(function(t){function e(e){for(var i,r,o=e[0],c=e[1],d=e[2],u=0,m=[];u<o.length;u++)r=o[u],a[r]&&m.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={index:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c31f")},"04f4":function(t,e,n){"use strict";var i=n("26f7"),a=n.n(i);a.a},"08dd":function(t,e,n){},"0af2":function(t,e,n){},"0e15":function(t,e,n){"use strict";var i=n("9768"),a=n.n(i);a.a},1021:function(t,e,n){},"107a":function(t,e,n){},"15cf":function(t,e,n){},1663:function(t,e,n){"use strict";var i=n("e86c"),a=n.n(i);a.a},"1e45":function(t,e,n){"use strict";var i=n("83d7"),a=n.n(i);a.a},"26f7":function(t,e,n){},3423:function(t,e,n){"use strict";var i=n("107a"),a=n.n(i);a.a},"428f":function(t,e,n){},"436f":function(t,e,n){"use strict";var i=n("0af2"),a=n.n(i);a.a},"476d":function(t,e,n){"use strict";var i=n("428f"),a=n.n(i);a.a},"49c2":function(t,e,n){"use strict";var i=n("acce"),a=n.n(i);a.a},"4d21":function(t,e,n){"use strict";var i=n("917b"),a=n.n(i);a.a},"6a2b":function(t,e,n){},"6da9":function(t,e,n){},7802:function(t,e,n){},"820e":function(t,e,n){},"83d7":function(t,e,n){},"909e":function(t,e,n){"use strict";var i=n("1021"),a=n.n(i);a.a},"917b":function(t,e,n){},9224:function(t){t.exports={name:"lemon-imui",version:"1.7.4",main:"dist/index.umd.min.js",description:"åŸºäº VUE2.0 çš„ IM èŠå¤©ç»„ä»¶",homepage:"http://june000.gitee.io/lemon-im/",keywords:["vue","im","chat","vueim","vuechat","webim","webchat"],repository:{type:"git",url:"git+https://github.com/fanjyy/lemon-imui.git"},scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build --target lib --name index packages/index.js","build-examples":"vue-cli-service build --dest examples/dist examples/main.js",lint:"vue-cli-service lint"},peerDependencies:{vue:"^2.6.10"},devDependencies:{"@vue/cli-plugin-babel":"^3.6.0","@vue/cli-plugin-eslint":"^3.6.0","@vue/cli-service":"^3.6.0","@vue/eslint-config-prettier":"^4.0.1","babel-eslint":"^10.0.2",eslint:"^5.16.0","eslint-plugin-vue":"^5.2.3",stylus:"^0.54.5","stylus-loader":"^3.0.2","vue-template-compiler":"^2.5.21"},author:"fanjun",license:"MIT"}},9768:function(t,e,n){},9800:function(t,e,n){},"9b01":function(t,e,n){"use strict";var i=n("6da9"),a=n.n(i);a.a},"9c9b":function(t,e,n){"use strict";var i=n("9800"),a=n.n(i);a.a},a215:function(t,e,n){},acce:function(t,e,n){},c31f:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"scroll-top",on:{click:t.scrollToTop}},[t._v("ğŸš€")]),n("div",{staticClass:"logo"},[n("div",{staticClass:"logo-text"},[n("b",[t._v("Lemon")]),t._v(" IMUI"),n("span",{staticClass:"logo-badge"},[t._v(t._s(this.packageData.version))])]),n("div",{staticClass:"logo-sub"},[t._v(t._s(this.packageData.description))]),t._m(0),n("br"),t._m(1),t._m(2)]),n("div",{staticClass:"imui-center"},[n("lemon-imui",{ref:"IMUI",attrs:{user:t.user,contextmenu:t.contextmenu,"contact-contextmenu":t.contactContextmenu,theme:t.theme,"hide-menu":t.hideMenu,"hide-menu-avatar":t.hideMenuAvatar,"hide-message-name":t.hideMessageName,"hide-message-time":t.hideMessageTime},on:{"change-menu":t.handleChangeMenu,"change-contact":t.handleChangeContact,"pull-messages":t.handlePullMessages,"message-click":t.handleMessageClick,"menu-avatar-click":t.handleMenuAvatarClick,send:t.handleSend},scopedSlots:t._u([{key:"cover",fn:function(){return[n("div",{staticClass:"cover"},[n("i",{staticClass:"lemon-icon-message"}),n("p",[n("b",[t._v("è‡ªå®šä¹‰å°é¢ Lemon")]),t._v(" IMUI")])])]},proxy:!0},{key:"message-title",fn:function(e){return[n("span",[t._v(t._s(e.displayName))]),n("small",{staticClass:"more",on:{click:function(n){return t.changeDrawer(e,t.$refs.IMUI)}}},[t._v(t._s(t.$refs.IMUI&&t.$refs.IMUI.drawerVisible?"å…³é—­":"æ‰“å¼€")+"æŠ½å±‰")]),n("br")]}}])}),n("a",{staticStyle:{"font-size":"14px"},attrs:{target:"_blank",href:"https://codesandbox.io/s/sweet-chaplygin-s24mb?fontsize=14&hidenavigation=1&theme=dark"}},[t._v("åœ¨çº¿ç¼–è¾‘ä»£ç ")]),n("div",{staticClass:"action"},[n("lemon-button",{on:{click:t.appendMessage}},[t._v("å‘é€æ¶ˆæ¯")]),n("lemon-button",{on:{click:t.appendEventMessage}},[t._v("å‘é€ event æ¶ˆæ¯")]),n("lemon-button",{on:{click:t.removeMessage}},[t._v("åˆ é™¤æœ€è¿‘ä¸€æ¡æ¶ˆæ¯")]),n("lemon-button",{on:{click:t.updateMessage}},[t._v("ä¿®æ”¹æ¶ˆæ¯")]),n("lemon-button",{on:{click:t.appendCustomMessage}},[t._v("å‘é€æ¶ˆæ¯")]),n("br"),n("lemon-button",{on:{click:t.updateContact}},[t._v("ä¿®æ”¹è”ç³»äººä¿¡æ¯")]),n("lemon-button",{on:{click:t.changeMenuVisible}},[t._v("åˆ‡æ¢å¯¼èˆªæ˜¾ç¤º")]),n("lemon-button",{on:{click:t.changeMenuAvatarVisible}},[t._v("åˆ‡æ¢å¤´åƒæ˜¾ç¤º")]),n("lemon-button",{on:{click:t.changeMessageNameVisible}},[t._v("åˆ‡æ¢èŠå¤©çª—å£å†…åå­—æ˜¾ç¤º")]),n("lemon-button",{on:{click:t.changeMessageTimeVisible}},[t._v("åˆ‡æ¢èŠå¤©çª—å£å†…æ—¶é—´æ˜¾ç¤º")]),n("lemon-button",{on:{click:t.changeTheme}},[t._v("åˆ‡æ¢ä¸»é¢˜ï¼Œå½“å‰ä¸»é¢˜ï¼š"+t._s(this.theme))])],1)],1),n("div",{staticStyle:{display:"flex"}},[n("div",[n("div",{staticClass:"title"},[t._v("è‡ªå®šä¹‰")]),n("div",{staticClass:"imui-center"},[n("qq-imui",[t._v("12312312")])],1)]),n("div",{staticStyle:{margin:"0 55px"}},[n("div",{staticClass:"title"},[t._v("ç²¾ç®€æ¨¡å¼")]),n("div",{staticClass:"imui-center"},[n("lemon-imui",{ref:"SimpleIMUI",staticClass:"lemon-simple",attrs:{user:t.user,width:"340px","avatar-cricle":!0,simple:""},on:{"pull-messages":t.handlePullMessages,"message-click":t.handleMessageClick,send:t.handleSend}}),n("a",{staticStyle:{"font-size":"14px"},attrs:{target:"_blank",href:"https://codesandbox.io/s/lemon-imui-jingjianmoshi-forked-1lvoh?fontsize=14&hidenavigation=1&theme=dark"}},[t._v("åœ¨çº¿ç¼–è¾‘ä»£ç ")])],1)])]),n("div",{staticClass:"title"},[t._v("è”ç³»äºº Contact")]),t._m(3),n("div",{staticClass:"title"},[t._v("æ¶ˆæ¯ä½“ Message")]),t._m(4),n("div",{staticClass:"title"},[t._v("å³é”®èœå• ContextmenuItem")]),t._m(5),n("div",{staticClass:"title"},[t._v("æŠ½å±‰é…ç½® DrawerOption")]),t._m(6),n("div",{staticClass:"title"},[t._v("ç»„ä»¶å±æ€§")]),t._m(7),n("div",{staticClass:"title"},[t._v("ç»„ä»¶æ–¹æ³•")]),t._m(8),n("div",{staticClass:"title"},[t._v("ç»„ä»¶æ’æ§½")]),t._m(9),n("div",{staticClass:"title"},[t._v("ç»„ä»¶äº‹ä»¶")]),t._m(10),n("div",{staticClass:"title",attrs:{id:"help1"}},[t._v("å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰æ¶ˆæ¯ï¼Ÿ")]),n("div",[t._m(11),n("pre",[t._v('{\n  //å€¼ä¸º voiceï¼Œç”¨äºè§£æçš„ç»„ä»¶ name å¿…é¡»ä¸º lemonMessageVoice\n  type: "voice",\n  content: \'è¯­éŸ³æ¶ˆæ¯\',\n  //è‡ªå®šä¹‰å‚æ•°\n  params1:\'å‚æ•°1\',\n  params2:\'å‚æ•°2\',\n  //å¿…ä¼ å‚æ•°\n  id: "message-id",\n  //å¿…ä¼ å‚æ•°\n  fromUser:{\n    avatar: ""\n    displayName: "June"\n    id: "1"\n  },\n  //å¿…ä¼ å‚æ•°\n  sendTime: 1610872045162\n  //å¿…ä¼ å‚æ•°\n  status: "succeed"\n  //å¿…ä¼ å‚æ•°\n  toContactId: "contact-id"\n}\n        ')]),n("p",[t._v("åˆ›å»ºç”¨äºè§£æè¯¥æ¶ˆæ¯çš„ç»„ä»¶ã€‚")]),n("pre",[t._v(t._s(t.tip))]),n("p",[t._v("IMUIåˆå§‹åŒ–çš„æ—¶å€™ï¼Œè®¾ç½®å·¦ä¾§è”ç³»äººæœ€æ–°æ¶ˆæ¯çš„æ¸²æŸ“å†…å®¹")]),n("pre",[t._v("IMUI.setLastContentRender('voice', message => {\n  return <span>[è¯­éŸ³]</span>\n})\n")]),n("p",[t._v("æœ€åä¸€æ­¥ï¼Œæ³¨å†Œç»„ä»¶ï¼Œå¿…é¡»ä½¿ç”¨å…¨å±€æ³¨å†Œçš„æ–¹å¼ã€‚")]),n("pre",[t._v("import Vue from 'vue';\nimport LemonMessageVoice from './lemon-message-voice';\nVue.component(LemonMessageVoice.name,LemonMessageVoice);\n")]),n("p",[t._v("å¦‚æœè¿˜æœ‰ä¸æ˜ç™½çš„ï¼Œå¯ä»¥åˆ° examples/App.vue æŸ¥çœ‹ç¤ºä¾‹ä»£ç ")])]),n("div",{staticClass:"title",attrs:{id:"help2"}},[t._v("å¦‚ä½•å¯¹æ¥åç«¯æ¥å£ï¼Ÿ")]),n("p",[t._v("1.åˆå§‹åŒ–ç”¨æˆ·çš„ä¿¡æ¯")]),n("pre",{domProps:{textContent:t._s("data(){\n  return {\n    user:{id:1:displayName:'June',avatar:''}\n  }\n}")}}),n("pre",{domProps:{textContent:t._s("<lemon-imui :user='this.user' ref='IMUI'></lemon-imui>")}}),n("p",[t._v("2.åˆå§‹åŒ–è”ç³»äººæ•°æ®")]),n("pre",{domProps:{textContent:t._s("mounted(){\n  const { IMUI } = this.$refs;\n  //åˆå§‹åŒ–è¡¨æƒ…åŒ…ã€‚\n  IMUI.initEmoji(...);\n  //ä»åç«¯è¯·æ±‚è”ç³»äººæ•°æ®ï¼ŒåŒ…è£…æˆä¸‹é¢çš„æ ·å­\n  const contacts = [{\n    id: 2,\n    displayName: 'ä¸½å®‰å¨œ',\n    avatar:'',\n    index: 'L',\n    unread: 0,\n    //æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„å†…å®¹ï¼Œå¦‚æœå€¼ä¸ºç©ºï¼Œä¸ä¼šå‡ºç°åœ¨â€œèŠå¤©â€åˆ—è¡¨é‡Œé¢ã€‚\n    //lastContentRender å‡½æ•°ä¼šå°† file æ¶ˆæ¯è½¬æ¢ä¸º '[æ–‡ä»¶]', image æ¶ˆæ¯è½¬æ¢ä¸º '[å›¾ç‰‡]'ï¼Œå¯¹ text ä¼šå°†æ–‡å­—é‡Œçš„è¡¨æƒ…æ ‡è¯†æ›¿æ¢ä¸ºimgæ ‡ç­¾,\n    lastContent: IMUI.lastContentRender({type:'text',content:'ä½ åœ¨å¹²å˜›å‘¢ï¼Ÿ'})\n    //æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„å‘é€æ—¶é—´\n    lastSendTime: 1566047865417,\n  }];\n  IMUI.initContacts(contacts);\n}")}}),n("p",[t._v("3.æ‹‰å–æ¶ˆæ¯åˆ—è¡¨")]),n("p",[t._v("\n      ç°åœ¨åˆ·æ–°é¡µé¢åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°è”ç³»äººäº†ï¼Œä½†æ˜¯ç‚¹å‡»è”ç³»äººçš„è¯å³è¾¹ä¼šä¸€ç›´å¤„äºåŠ è½½ä¸­ï¼Œè¿™æ—¶éœ€è¦ç›‘å¬\n      pull-messages äº‹ä»¶ã€‚\n    ")]),n("pre",{domProps:{textContent:t._s("<lemon-imui :user='this.user' ref='IMUI' @pull-messages='handlePullMessages'></lemon-imui>")}}),n("pre",{domProps:{textContent:t._s("methods:{\n  handlePullMessages(contact, next) {\n    //ä»åç«¯è¯·æ±‚æ¶ˆæ¯æ•°æ®ï¼ŒåŒ…è£…æˆä¸‹é¢çš„æ ·å­\n    const messages = [{\n      id: 'å”¯ä¸€æ¶ˆæ¯ID',\n      status: 'succeed',\n      type: 'text',\n      sendTime: 1566047865417,\n      content: 'ä½ ä»€ä¹ˆæ‰èƒ½å¯¹æ¥å®Œï¼Ÿ',\n      toContactId: contact.id,\n      fromUser:this.user\n    }]\n    //å°†ç¬¬äºŒä¸ªå‚æ•°è®¾ä¸ºtrueï¼Œè¡¨ç¤ºå·²åˆ°æœ«å°¾ï¼ŒèŠå¤©çª—å£é¡¶éƒ¨ä¼šæ˜¾ç¤ºâ€œæš‚æ— æ›´å¤šæ¶ˆæ¯â€ï¼Œä¸ç„¶ä¼šä¸€ç›´è½¬åœˆã€‚\n    next(messages,true);\n  },\n}")}}),n("p",[t._v("4.å‘é€æ¶ˆæ¯")]),n("p",[t._v("ç°åœ¨åœ¨æ¶ˆæ¯æ¡†å‘é€æ–°æ¶ˆæ¯ä¼šä¸€ç›´è½¬åœˆï¼Œè¿™æ—¶éœ€è¦ç›‘å¬ send äº‹ä»¶ã€‚")]),n("pre",{domProps:{textContent:t._s("methods:{\n  handleSend(message, next, file) {\n    ... è°ƒç”¨ä½ çš„æ¶ˆæ¯å‘é€ä¸šåŠ¡æ¥å£\n\n    //æ‰§è¡Œåˆ°nextæ¶ˆæ¯ä¼šåœæ­¢è½¬åœˆï¼Œå¦‚æœæ¥å£è°ƒç”¨å¤±è´¥ï¼Œå¯ä»¥ä¿®æ”¹æ¶ˆæ¯çš„çŠ¶æ€ next({status:'failed'});\n    next();\n  },\n}")}}),n("p",[t._v("5.æ¥æ”¶æ¶ˆæ¯")]),n("pre",{domProps:{textContent:t._s("mounted(){\n\nWebSocket.onmessage = function(event) {\n  //å°†æ¥æ”¶åˆ°çš„æ•°æ®åŒ…è£…æˆä¸‹é¢çš„æ ·å­\n  const data = {\n    id: 'å”¯ä¸€æ¶ˆæ¯ID',\n    status: 'succeed',\n    type: 'text',\n    sendTime: 1566047865417,\n    content: 'é©¬ä¸Šå°±å¯¹æ¥å®Œäº†ï¼',\n    toContactId: 2,\n    fromUser:{\n      //å¦‚æœ id == this.user.idæ¶ˆæ¯ä¼šæ˜¾ç¤ºåœ¨å³ä¾§ï¼Œå¦åˆ™åœ¨å·¦ä¾§\n      id:2,\n      displayName:'ä¸½å®‰å¨œ',\n      avatar:'',\n    }\n  };\n  IMUI.appendMessage(data);\n};\n  \n}")}})])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link"},[n("span",[t._v("æºç ä¸‹è½½Â Â ")]),n("a",{attrs:{target:"_blank",href:"https://github.com/fanjyy/lemon-imui"}},[t._v("Github")]),n("a",{attrs:{target:"_blank",href:"https://gitee.com/june000/lemon-im"}},[t._v("Gitee")]),n("a",{attrs:{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=xzUa9CPYQ5KCNQ86h7ep4Z3TtkqJxRZE&jump_from=webapi"}},[t._v("QQäº¤æµç¾¤ï¼š1081773406")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticStyle:{"font-size":"14px"},attrs:{href:"#help1"}},[t._v("1.å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰æ¶ˆæ¯ï¼Ÿ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticStyle:{"font-size":"14px"},attrs:{href:"#help2"}},[t._v("2.å¦‚ä½•å¯¹æ¥åç«¯æ¥å£ï¼Ÿ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("å‚æ•°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("é»˜è®¤å€¼")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("id")]),n("td",{attrs:{width:"350"}},[t._v("å”¯ä¸€ID")]),n("td",{attrs:{width:"150"}},[t._v("String/Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("displayName")]),n("td",[t._v("åç§°")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr"),n("tr",[n("td",[t._v("avatar")]),n("td",[t._v("å¤´åƒ")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("index")]),n("td",[t._v("\n          é€šè®¯å½•ç´¢å¼•ï¼Œä¼ å…¥å­—æ¯æˆ–æ•°å­—è¿›è¡Œæ’åºï¼Œç´¢å¼•å¯ä»¥æ˜¾ç¤ºè‡ªå®šä¹‰æ–‡å­—â€œ[1]ç¾¤ç»„â€\n        ")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("unread")]),n("td",[t._v("æœªè¯»æ¶ˆæ¯æ•°")]),n("td",[t._v("Number")]),n("td",[t._v("0")]),n("td")]),n("tr",[n("td",[t._v("lastSendTime")]),n("td",[t._v("æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„æ—¶é—´æˆ³ï¼Œ13ä½æ¯«ç§’")]),n("td",[t._v("timestamp")]),n("td",[t._v("0")]),n("td")]),n("tr",[n("td",[t._v("lastContent")]),n("td",[t._v("æœ€è¿‘ä¸€æ¡æ¶ˆæ¯çš„å†…å®¹")]),n("td",[t._v("String | Vnode")]),n("td"),n("td")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("å‚æ•°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("é»˜è®¤å€¼")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("id")]),n("td",{attrs:{width:"350"}},[t._v("å”¯ä¸€ID")]),n("td",{attrs:{width:"150"}},[t._v("String/Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("status")]),n("td",[t._v("æ¶ˆæ¯å‘é€çš„çŠ¶æ€ï¼šgoing | failed | succeed")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr"),n("tr",[n("td",[t._v("type")]),n("td",[t._v("æ¶ˆæ¯ç±»å‹ï¼šfile | image | text | event")]),n("td",[t._v("String | Vnode")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("sendTime")]),n("td",[t._v("æ¶ˆæ¯å‘é€æ—¶é—´ï¼Œ13ä½æ¯«ç§’")]),n("td",[t._v("timestamp")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("content")]),n("td",[t._v("æ¶ˆæ¯å†…å®¹ï¼Œå¦‚æœtype=fileï¼Œæ­¤å±æ€§è¡¨ç¤ºæ–‡ä»¶çš„URLåœ°å€")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("fileSize")]),n("td",[t._v("æ–‡ä»¶å¤§å°")]),n("td",[t._v("Number")]),n("td",[t._v("0")]),n("td")]),n("tr",[n("td",[t._v("fileName")]),n("td",[t._v("æ–‡ä»¶åç§°")]),n("td",[t._v("String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("toContactId")]),n("td",[t._v("æ¥æ”¶æ¶ˆæ¯çš„è”ç³»äººID")]),n("td",[t._v("String | Number")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("fromUser")]),n("td",[t._v("æ¶ˆæ¯å‘é€äººçš„ä¿¡æ¯")]),n("td",[t._v("Object")]),n("td",[t._v("-")]),n("td",[t._v('{id: "1",displayName: "æµ‹è¯•",avatar: "url"};')])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("åç§°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("text")]),n("td",{attrs:{width:"350"}},[t._v("æ˜¾ç¤ºæ–‡å­—")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("color")]),n("td",{attrs:{width:"350"}},[t._v("é¢œè‰²")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("icon")]),n("td",{attrs:{width:"350"}},[t._v("å›¾æ ‡ class")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("click")]),n("td",{attrs:{width:"350"}},[t._v("ç‚¹å‡»äº‹ä»¶ï¼Œè°ƒç”¨hideæ–¹æ³•éšè—å³é”®èœå•ã€‚")]),n("td",{attrs:{width:"150"}},[t._v("Function(e,instance,hide)")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("visible")]),n("td",{attrs:{width:"350"}},[t._v("æ˜¯å¦æ˜¾ç¤ºçš„åˆ¤æ–­å‡½æ•°")]),n("td",{attrs:{width:"150"}},[t._v("Function(instance)")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("render")]),n("td",{attrs:{width:"350"}},[t._v("\n          è´Ÿè´£æ ·å¼çš„æ¸²æŸ“å‡½æ•°ï¼Œä½¿ç”¨renderçš„æ—¶å€™textå±æ€§ä¼šå¤±å»ä½œç”¨ï¼Œè°ƒç”¨hideæ–¹æ³•éšè—å³é”®èœå•ã€‚\n        ")]),n("td",{attrs:{width:"150"}},[t._v("Function(e,instance,hide)")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("åç§°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("width")]),n("td",{attrs:{width:"350"}},[t._v("å®½åº¦ï¼Œå¯ä»¥è®¾ç½®ç™¾åˆ†æ¯”")]),n("td",{attrs:{width:"150"}},[t._v("String | Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("height")]),n("td",{attrs:{width:"350"}},[t._v("é«˜åº¦ï¼Œå¯ä»¥è®¾ç½®ç™¾åˆ†æ¯”")]),n("td",{attrs:{width:"150"}},[t._v("String | Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("offsetX")]),n("td",{attrs:{width:"350"}},[t._v("Xåç§»å€¼ï¼Œå¯ä»¥è®¾ç½®ç™¾åˆ†æ¯”")]),n("td",{attrs:{width:"150"}},[t._v("String | Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("offsetY")]),n("td",{attrs:{width:"350"}},[t._v("Yåç§»å€¼ï¼Œå¯ä»¥è®¾ç½®ç™¾åˆ†æ¯”")]),n("td",{attrs:{width:"150"}},[t._v("String | Number")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("position")]),n("td",{attrs:{width:"350"}},[t._v("ä½ç½®")]),n("td",{attrs:{width:"150"}},[t._v("right | rightInside | center")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("å‚æ•°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("é»˜è®¤å€¼")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("user")]),n("td",{attrs:{width:"350"}},[t._v("ç”¨æˆ·ä¿¡æ¯")]),n("td",{attrs:{width:"150"}},[t._v("Object")]),n("td",{attrs:{width:"100"}},[t._v("-")]),n("td",[t._v('{id: "1",displayName: "æµ‹è¯•",avatar: "url"};')])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("width")]),n("td",{attrs:{width:"350"}},[t._v("å®½åº¦")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("850px")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("height")]),n("td",{attrs:{width:"350"}},[t._v("é«˜åº¦")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("580px")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("theme")]),n("td",{attrs:{width:"350"}},[t._v("ä¸»é¢˜")]),n("td",{attrs:{width:"150"}},[t._v("default | blue")]),n("td",{attrs:{width:"100"}},[t._v("default")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("theme")]),n("td",{attrs:{width:"350"}},[t._v("ä¸»é¢˜")]),n("td",{attrs:{width:"150"}},[t._v("default | blue")]),n("td",{attrs:{width:"100"}},[t._v("default")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("loadingText")]),n("td",{attrs:{width:"350"}},[t._v("æ¶ˆæ¯åŠ è½½æ–‡å­—")]),n("td",{attrs:{width:"150"}},[t._v("String | Function")]),n("td",{attrs:{width:"100"}}),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("loadendText")]),n("td",{attrs:{width:"350"}},[t._v("æ¶ˆæ¯åŠ è½½ç»“æŸæ–‡å­—")]),n("td",{attrs:{width:"150"}},[t._v("String | Function")]),n("td",{attrs:{width:"100"}},[t._v("æš‚æ— æ›´å¤šæ¶ˆæ¯")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("avatarCricle")]),n("td",{attrs:{width:"350"}},[t._v("ä½¿ç”¨åœ†å½¢å¤´åƒ")]),n("td",{attrs:{width:"150"}},[t._v("Boolean")]),n("td",{attrs:{width:"100"}},[t._v("false")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sendText")]),n("td",{attrs:{width:"350"}},[t._v("å‘é€æ¶ˆæ¯æŒ‰é’®çš„æ–‡å­—")]),n("td",{attrs:{width:"150"}},[t._v("String")]),n("td",{attrs:{width:"100"}},[t._v("å‘é€æ¶ˆæ¯")]),n("td")]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sendKey")]),n("td",{attrs:{width:"350"}},[t._v("å¿«æ·å‘é€é”®æ£€æŸ¥å‡½æ•°")]),n("td",{attrs:{width:"150"}},[t._v("Function(event)=>Boolean")]),n("td",{attrs:{width:"100"}}),n("td",[t._v("(e)=>e.keyCode == 13 && e.ctrlKey")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("simple")]),n("td",{attrs:{width:"350"}},[t._v("ç²¾ç®€æ¨¡å¼")]),n("td",{attrs:{width:"150"}},[t._v("Boolean")]),n("td",{attrs:{width:"100"}},[t._v("false")]),n("td",[t._v("\n          ç²¾ç®€æ¨¡å¼ä¸‹å·¦ä¾§çš„å¯¼èˆªå’Œè”ç³»äººåˆ—è¡¨ä¼šéšè—ï¼Œåˆå§‹åŒ–æ—¶éœ€è¦æ‰‹åŠ¨è°ƒç”¨\n          changeContact åˆ‡æ¢åˆ°èŠå¤©è§†å›¾ã€‚\n        ")])]),n("tr",[n("td",[t._v("messageTimeFormat")]),n("td",[t._v("æ¶ˆæ¯åˆ—è¡¨æ—¶é—´æ ¼å¼åŒ–å‡½æ•°")]),n("td",[t._v("Function(time)=>String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("contactTimeFormat")]),n("td",[t._v("è”ç³»äººæ—¶é—´æ ¼å¼åŒ–è§„åˆ™")]),n("td",[t._v("Function(time)=>String")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("hideDrawer")]),n("td",[t._v("æ˜¯å¦éšè—æŠ½å±‰")]),n("td",[t._v("Boolean")]),n("td",[t._v("true")]),n("td")]),n("tr",[n("td",[t._v("hideMenuAvatar")]),n("td",[t._v("æ˜¯å¦éšè—å¯¼èˆªå¤´åƒ")]),n("td",[t._v("Boolean")]),n("td",[t._v("false")]),n("td")]),n("tr",[n("td",[t._v("hideMenu")]),n("td",[t._v("æ˜¯å¦éšè—å·¦ä¾§å¯¼èˆª")]),n("td",[t._v("Boolean")]),n("td",[t._v("false")]),n("td")]),n("tr",[n("td",[t._v("hideMessageName")]),n("td",[t._v("æ˜¯å¦éšè—èŠå¤©çª—å£å†…çš„è”ç³»äººåå­—")]),n("td",[t._v("Boolean")]),n("td",[t._v("false")]),n("td")]),n("tr",[n("td",[t._v("hideMessageTime")]),n("td",[t._v("æ˜¯å¦éšè—èŠå¤©çª—å£å†…çš„æ¶ˆæ¯å‘é€æ—¶é—´")]),n("td",[t._v("Boolean")]),n("td",[t._v("false")]),n("td")]),n("tr",[n("td",[t._v("contextmenu")]),n("td",[t._v("èŠå¤©æ¶ˆæ¯å³é”®èœå•é…ç½®")]),n("td",[t._v("[ContextmenuItem]")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("contactContextmenu")]),n("td",[t._v("è”ç³»äººå³é”®èœå•é…ç½®")]),n("td",[t._v("[ContextmenuItem]")]),n("td",[t._v("-")]),n("td")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("å‚æ•°")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("ç±»å‹")]),n("th",[t._v("é»˜è®¤å€¼")]),n("th",[t._v("ç¤ºä¾‹")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("initMenus")]),n("td",{attrs:{width:"350"}},[t._v("åˆå§‹åŒ–å¯¼èˆª")]),n("td",{attrs:{width:"150"}},[t._v("Function([Object])")]),n("td",{attrs:{width:"100"}},[t._v('[ { name: "messages" }, { name: "contacts" }]')]),n("td",[t._v('\n          { name: "custom2", title: "è‡ªå®šä¹‰æŒ‰é’®2", unread: 0, click: () => {\n          alert("æ‹¦æˆªå¯¼èˆªç‚¹å‡»äº‹ä»¶"); }, render: menu => { return \'...\'; },\n          isBottom: true }\n        ')])]),n("tr",[n("td",[t._v("initContacts")]),n("td",[t._v("åˆå§‹åŒ–è”ç³»äºº")]),n("td",[t._v("Function([Contact])")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("initEditorTools")]),n("td",[t._v("åˆå§‹åŒ–å·¥å…·æ ")]),n("td",[t._v("Function([Object])")]),n("td",[t._v("[{name:'emoji'},{name:'uploadFile'},{name:'uploadImage'}]")]),n("td",[t._v("\n          [{ name:\"test2\", isRight:true, title:'ä¸Šä¼  Excel', click:()=>{\n          alert('ç‚¹å‡»') }, render:()=>{ return '...' } }]\n        ")])]),n("tr",[n("td",[t._v("initEmoji")]),n("td",[t._v("åˆå§‹åŒ–è¡¨æƒ…æ•°æ®")]),n("td",[t._v("Function([Object])")]),n("td",[t._v("-")]),n("td",[n("div",[t._v("\n            æœ‰åˆ†ç±»ï¼š[{ label: 'é»˜è®¤è¡¨æƒ…', children: [ { name: '1f62c', title:\n            'å¾®ç¬‘', src: 'https://twemoji.maxcdn.com/2/72x72/1f62c.png' } ] }]\n          ")]),n("div",[t._v("\n            æ— åˆ†ç±»ï¼š[{ name: '1f62c', title: 'å¾®ç¬‘', src:\n            'https://twemoji.maxcdn.com/2/72x72/1f62c.png' }]\n          ")])])]),n("tr",[n("td",[t._v("appendMessage")]),n("td",[t._v("\n          æ–°å¢ä¸€æ¡æ¶ˆæ¯, å¦‚æœå½“å‰ç„¦ç‚¹åœ¨è¯¥è”ç³»äººçš„èŠå¤©çª—å£ï¼Œè®¾ç½®\n          scrollToBottom=true æ·»åŠ ä¹‹åè‡ªåŠ¨å®šä½åˆ°æ¶ˆæ¯çª—å£åº•éƒ¨\n        ")]),n("td",[t._v("Function(Message,scrollToBottom=false)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("removeMessage")]),n("td",[t._v("åˆ é™¤èŠå¤©æ¶ˆæ¯")]),n("td",[t._v("Function(Message.id)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("updateMessage")]),n("td",[t._v("\n          ä¿®æ”¹æ¶ˆæ¯ï¼Œæ ¹æ® Message.id\n          æŸ¥æ‰¾èŠå¤©æ¶ˆæ¯å¹¶è¦†ç›–ä¼ å…¥çš„å€¼ï¼ˆtoContactIdä¼šè¢«å¿½ç•¥ï¼‰\n        ")]),n("td",[t._v("Function(Message)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("appendContact")]),n("td",[t._v("æ·»åŠ è”ç³»äºº")]),n("td",[t._v("Function(Contact)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("removeContact")]),n("td",[t._v("åˆ é™¤è”ç³»äºº")]),n("td",[t._v("Function(Contact.id)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("updateContact")]),n("td",[t._v("ä¿®æ”¹è”ç³»äººï¼Œæ ¹æ® Contact.id æŸ¥æ‰¾è”ç³»äººå¹¶è¦†ç›–ä¼ å…¥çš„å€¼")]),n("td",[t._v("Function(Contact)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("clearMessages")]),n("td",[t._v("\n          æ¸…ç©ºæŸä¸ªè”ç³»äººçš„æœ¬åœ°æ¶ˆæ¯è®°å½•ï¼Œé‡æ–°åˆ‡æ¢åˆ°è¯¥è”ç³»äººæ—¶ä¼šå†æ¬¡è§¦å‘pull-messagesäº‹ä»¶ï¼ŒContact.idä¸ºç©ºåˆ™æ¸…ç©ºæ‰€æœ‰\n        ")]),n("td",[t._v("Function(Contact.id)=>Boolean")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("getMessages")]),n("td",[t._v("è¿”å›æ‰€æœ‰æœ¬åœ°æ¶ˆæ¯ï¼Œä¼ å…¥ Contact.id åˆ™åªè¿”å›ä¸è¯¥è”ç³»äººçš„æ¶ˆæ¯")]),n("td",[t._v("Function(Contact.id)=>[Message]")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("getCurrentContact")]),n("td",[t._v("è¿”å›å½“å‰èŠå¤©çª—å£çš„è”ç³»äººä¿¡æ¯")]),n("td",[t._v("Function()=>Contact")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("getCurrentMessages")]),n("td",[t._v("è¿”å›å½“å‰èŠå¤©çª—å£çš„æ‰€æœ‰æ¶ˆæ¯")]),n("td",[t._v("Function()=>[Message]")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("getContacts")]),n("td",[t._v("è¿”å›æ‰€æœ‰æœ¬åœ°è”ç³»äºº")]),n("td",[t._v("Function()=>[Contact]")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("openDrawer")]),n("td",[t._v("æ‰“å¼€è”ç³»äººå³ä¾§æŠ½å±‰ï¼Œvnode ä¸ºæŠ½å±‰å†…å®¹")]),n("td",[t._v("Function(vnode)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("changeDrawer")]),n("td",[t._v("åˆ‡æ¢å³ä¾§æŠ½å±‰æ˜¾ç¤º/éšè—ï¼Œvnode ä¸ºæŠ½å±‰å†…å®¹")]),n("td",[t._v("Function(DrawerOption)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("closeDrawer")]),n("td",[t._v("å…³é—­æŠ½å±‰")]),n("td",[t._v("Function()")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("changeMenu")]),n("td",[t._v("åˆ‡æ¢å·¦ä¾§å¯¼èˆª")]),n("td",[t._v("Function(Menu.name)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("changeContact")]),n("td",[t._v("åˆ‡æ¢èŠå¤©çª—å£")]),n("td",[t._v("Function(Contact.id,instance)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("messageViewToBottom")]),n("td",[t._v("å°†å½“å‰èŠå¤©çª—å£æ»šåŠ¨åˆ°åº•éƒ¨")]),n("td",[t._v("Function()")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("setLastContentRender")]),n("td",[t._v("è®¾ç½®å·¦ä¾§è”ç³»äººæœ€æ–°æ¶ˆæ¯çš„æ¸²æŸ“å‡½æ•°")]),n("td",[t._v("Function(Message.type, (Message)=>vnode)")]),n("td",[t._v("-")]),n("td",[t._v("\n          setLastContentRender('image', message => { return\n          "),n("span",[t._v("[æœ€æ–°å›¾ç‰‡]")]),t._v("\n          })\n        ")])]),n("tr",[n("td",[t._v("lastContentRender")]),n("td",[t._v("ç”¨æ¥ç”Ÿæˆ Message.lastContent éœ€è¦çš„vnodeç»“æ„ã€‚")]),n("td",[t._v("Function(Message)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("setEditorValue")]),n("td",[t._v("è®¾ç½®ç¼–è¾‘æ¡†å†…å®¹")]),n("td",[t._v("Function(string)")]),n("td",[t._v("-")]),n("td")]),n("tr",[n("td",[t._v("getEditorValue")]),n("td",[t._v("è·å–ç¼–è¾‘æ¡†å†…å®¹")]),n("td",[t._v("Function()=>string")]),n("td",[t._v("-")]),n("td")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("æ’æ§½å")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("å‚æ•°")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("cover")]),n("td",{attrs:{width:"350"}},[t._v("åˆå§‹åŒ–æ—¶çš„å°é¢")]),n("td",{attrs:{width:"150"}},[t._v("-")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("editor-footer")]),n("td",{attrs:{width:"350"}},[t._v("æ¶ˆæ¯è¾“å…¥æ¡†åº•éƒ¨")]),n("td",{attrs:{width:"150"}},[t._v("-")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("message-title")]),n("td",{attrs:{width:"350"}},[t._v("æ¶ˆæ¯åˆ—è¡¨çš„æ ‡é¢˜")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("message-after")]),n("td",{attrs:{width:"350"}},[t._v("æ¯æ¡æ¶ˆæ¯çš„å°¾éƒ¨")]),n("td",{attrs:{width:"150"}},[t._v("Message")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-message")]),n("td",{attrs:{width:"350"}},[t._v("å·¦ä¾§æœ€æ–°æ¶ˆæ¯åˆ—è¡¨æ’æ§½")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-contact")]),n("td",{attrs:{width:"350"}},[t._v("å·¦ä¾§è”ç³»äººåˆ—è¡¨æ’æ§½")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-message-top")]),n("td",{attrs:{width:"350"}},[t._v("å·¦ä¾§æœ€æ–°æ¶ˆæ¯åˆ—è¡¨çš„é¡¶éƒ¨ï¼Œä¼šéšåˆ—è¡¨æ»šåŠ¨")]),n("td",{attrs:{width:"150"}},[t._v("instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-contact-top")]),n("td",{attrs:{width:"350"}},[t._v("å·¦ä¾§è”ç³»äººåˆ—è¡¨çš„é¡¶éƒ¨ï¼Œä¼šéšåˆ—è¡¨æ»šåŠ¨")]),n("td",{attrs:{width:"150"}},[t._v("instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-message-fixedtop")]),n("td",{attrs:{width:"350"}},[t._v("å›ºå®šåœ¨å·¦ä¾§æœ€æ–°æ¶ˆæ¯åˆ—è¡¨çš„é¡¶éƒ¨")]),n("td",{attrs:{width:"150"}},[t._v("instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("sidebar-contact-fixedtop")]),n("td",{attrs:{width:"350"}},[t._v("å›ºå®šåœ¨å·¦ä¾§è”ç³»äººåˆ—è¡¨çš„é¡¶éƒ¨")]),n("td",{attrs:{width:"150"}},[t._v("instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("contact-info")]),n("td",{attrs:{width:"350"}},[t._v("å·¦ä¾§è”ç³»äººè¯¦ç»†é¡µ")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("message-side")]),n("td",{attrs:{width:"350"}},[t._v("æ¶ˆæ¯åˆ—è¡¨å³ä¾§")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("tr",{staticClass:"table-head"},[n("th",[t._v("äº‹ä»¶å")]),n("th",[t._v("è¯´æ˜")]),n("th",[t._v("å‚æ•°")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("change-menu")]),n("td",{attrs:{width:"350"}},[t._v("å½“å·¦ä¾§å¯¼èˆªé€‰é¡¹å¡åˆ‡æ¢çš„æ—¶å€™ä¼šè§¦å‘è¯¥äº‹ä»¶")]),n("td",{attrs:{width:"150"}},[t._v("Menu.name")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("menu-avatar-click")]),n("td",{attrs:{width:"350"}},[t._v("å½“å·¦ä¾§å¯¼èˆªå†…çš„å¤´åƒè¢«ç‚¹å‡»æ—¶å›è§¦å‘è¯¥äº‹ä»¶")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("change-contact")]),n("td",{attrs:{width:"350"}},[t._v("å½“å·¦ä¾§è”ç³»äººç‚¹å‡»æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶")]),n("td",{attrs:{width:"150"}},[t._v("Contact")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("pull-messages")]),n("td",{attrs:{width:"350"}},[t._v("\n          å½“åˆ‡æ¢èŠå¤©å¯¹è±¡æˆ–è€…èŠå¤©çª—å£æ»šåŠ¨åˆ°é¡¶éƒ¨æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œè°ƒç”¨nextæ–¹æ³•ç»“æŸloadingçŠ¶æ€ï¼Œå¦‚æœè®¾ç½®äº†isEnd=trueï¼Œä¸‹æ¬¡èŠå¤©çª—å£æ»šåŠ¨åˆ°é¡¶éƒ¨å°†ä¸ä¼šå†è§¦å‘è¯¥äº‹ä»¶\n        ")]),n("td",{attrs:{width:"150"}},[t._v("Contact,next([Message],isEnd),instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("message-click")]),n("td",{attrs:{width:"350"}},[t._v("ç‚¹å‡»èŠå¤©çª—å£ä¸­çš„æ¶ˆæ¯æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶")]),n("td",{attrs:{width:"150"}},[t._v("event,key,Message,instance")])]),n("tr",[n("td",{attrs:{width:"150"}},[t._v("send")]),n("td",{attrs:{width:"350"}},[t._v("å½“å‘é€æ–°æ¶ˆæ¯æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶")]),n("td",{attrs:{width:"150"}},[t._v("\n          Message,Function(Message)ï¼šè°ƒç”¨è¯¥å‡½æ•°å®Œæˆæ¶ˆæ¯å‘é€ï¼Œå¯ä»¥ä¼ å…¥Messageæ¥æ”¹å˜æ¶ˆæ¯å†…å®¹ï¼Œfileï¼šä¸Šä¼ æ—¶çš„æ–‡ä»¶\n        ")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n        Lemon-IMUI\n        ç›®å‰å†…ç½®äº†fileã€imageã€textã€eventå››ç§æ¶ˆæ¯ç±»å‹ï¼Œåœ¨å®é™…åº”ç”¨å½“ä¸­è‚¯å®šæ˜¯ä¸å¤Ÿçš„å“¦ï¼Œå’‹åŠï¼Ÿæ²¡äº‹çš„ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹seeã€‚"),n("br"),t._v("è¦åˆ›å»ºæ¶ˆæ¯é¦–å…ˆè¦ç¡®å®šæ–°æ¶ˆæ¯çš„\n        Message ç»“æ„ã€‚\n      ")])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("2638")),o=n.n(r),c=n("bd86");n("6b54"),n("7f7f");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u,m,h,p,v={name:"lemonMessageVoice",inheritAttrs:!1,inject:["IMUI"],render:function(){var t=arguments[0];return t("lemon-message-basic",o()([{class:"lemon-message-voice"},{props:l({},this.$attrs)},{scopedSlots:{content:function(e){return t("span",[e.content,"Â ğŸ”ˆ"])}}}]))}},f=v,g=(n("476d"),n("2877")),_=Object(g["a"])(f,u,m,!1,null,null,null),b=_.exports,x={id:1e3,avatar:"https://p.qqan.com/up/2018-4/15244505348390471.jpg",displayName:"é‡ç«ã€‚"},w=[{id:1,displayName:"åƒæ¢¦ä¸€æ ·è‡ªç”±",avatar:"https://p.qqan.com/up/2020-2/2020022821001845128.jpg",index:"X",unread:0,lastSendTime:1566047865417,lastContent:"ä½ å¼€å¿ƒå—"},{id:2,displayName:"æ¢¦é†’æ—¶åˆ†ã€",avatar:"https://p.qqan.com/up/2021-1/20211301122243621.jpg",index:"M",unread:0,lastSendTime:1566047865417,lastContent:""},{id:3,displayName:"å‡Œäº‘",avatar:"https://p.qqan.com/up/2021-1/2021129102387841.jpg",index:"L",unread:0,lastSendTime:1566047865417,lastContent:""},{id:4,displayName:"å°éƒ­",avatar:"https://p.qqan.com/up/2021-1/2021122135507881.jpg",index:"X",unread:0,lastSendTime:1566047865417,lastContent:""},{id:5,displayName:"æ¨ç‰æ³‰",avatar:"https://p.qqan.com/up/2021-1/20211211131598147.jpg",index:"Y",unread:0,lastSendTime:1566047865417,lastContent:""},{id:6,displayName:"æ£®ç³»Style",avatar:"https://p.qqan.com/up/2021-1/2021113104111220.jpg",index:"S",unread:0,lastSendTime:1566047865417,lastContent:""},{id:7,displayName:"éœ¸ç‹èŠ±",avatar:"https://p.qqan.com/up/2021-1/20211411391666.jpg",index:"B",unread:0,lastSendTime:1566047865417,lastContent:"ä½ æ€ä¹ˆè¿˜ä¸ç¡å‘€ï¼Ÿ"},{id:8,displayName:"æ›¾å¹³",avatar:"https://p.qqan.com/up/2020-12/202012291044425822.jpg",index:"Z",unread:0,lastSendTime:1566047865417,lastContent:""},{id:9,displayName:"æ·¡ç„¶",avatar:"https://p.qqan.com/up/2020-12/202012141813343503.jpg",index:"D",unread:0,lastSendTime:1566047865417,lastContent:""},{id:10,displayName:"å¶å­ã€‚",avatar:"https://p.qqan.com/up/2021-1/20211301122243621.jpg",index:"Y",unread:0,lastSendTime:1566047865417,lastContent:""},{id:11,displayName:"åœŸè±†",avatar:"https://p.qqan.com/up/2020-12/202012111157268739.jpg",index:"T",unread:0,lastSendTime:1566047865417,lastContent:""},{id:12,displayName:"æ¸…æ²«",avatar:"https://p.qqan.com/up/2020-12/202012415467996.jpg",index:"Q",unread:0,lastSendTime:1566047865417,lastContent:""},{id:13,displayName:"Lemon-imuiäº¤æµç¾¤",avatar:"https://p.qqan.com/up/2020-11/20201127157109035.jpg",index:"L",isGroup:!0,unread:0,lastSendTime:1566047865417,lastContent:"è¿™ä¸ªå’‹å¤„ç†å•Šï¼Ÿ"},{id:14,displayName:"ç³»ç»Ÿé€šçŸ¥",avatar:"https://p.qqan.com/up/2020-6/2020061117234279854.jpg",index:"[1]ç³»çµ±é€šçŸ¥",unread:0,lastSendTime:1566047865417,lastContent:"å®é™è‡´è¿œé€šè¿‡äº†ä½ çš„å¥½å‹è¯·æ±‚",renderContainer:function(){var t=this.$createElement;return t("div",{style:"padding:15px;"},[t("div",["å®é™è‡´è¿œé€šè¿‡äº†ä½ çš„å¥½å‹è¯·æ±‚"]),t("div",["å®é™è‡´è¿œé€šè¿‡äº†ä½ çš„å¥½å‹è¯·æ±‚"]),t("div",["å®é™è‡´è¿œé€šè¿‡äº†ä½ çš„å¥½å‹è¯·æ±‚"])])}},{id:15,displayName:"å®é™è‡´è¿œã€‚",avatar:"https://p.qqan.com/up/2020-6/2020060308522797777.jpg",index:"N",unread:0,lastSendTime:1566047865417,lastContent:""}],C=(n("7514"),function(){return Math.random().toString(36).substr(-8)}),y=function(t){var e=w.find(function(e){return e.id==t});return{id:e.id,avatar:e.avatar,displayName:e.displayName}},M={1:[{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"é—®ä½ ä»¶äº‹",toContactId:1,fromUser:x},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"å•¥å­ã€‚",toContactId:1,fromUser:y(1)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"ä¸ºä»€ä¹ˆ",toContactId:1,fromUser:x},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"ä½ ç©¿äº†é«˜è·Ÿé‹è¿˜è¿™ä¹ˆçŸ®",toContactId:1,fromUser:x},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"å› ä¸ºæˆ‘çŸ®å•Šã€‚[!1f600][!1f600][!1f600]",toContactId:1,fromUser:y(1)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"ä½ å¼€å¿ƒå—",toContactId:1,fromUser:y(1)}],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[],13:[{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"æˆ‘æ˜¯æµ‹è¯•æ—¶å€™çœ‹åˆ°çš„",toContactId:1,fromUser:y(4)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"ä¸Šæ–°ç‰ˆæœ¬äº†ï¼Œç©ç©",toContactId:1,fromUser:y(4)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"é¡¹ç›®å†…æ²¡æœ‰æè¿™ä¸ª",toContactId:1,fromUser:y(4)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"@awesome æœ€æ–°çš„ï¼Œä¸ç„¶å“ªæœ‰è¿™åŠŸèƒ½",toContactId:1,fromUser:y(5)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"å…¶å®æ˜¯è·Ÿä½ çš„é®ç½©å±‚æœ‰å†²çª",toContactId:1,fromUser:y(4)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"è‡ªå·±ä¿®æ”¹indexå“ˆ",toContactId:1,fromUser:x},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"ä½ ä»¬å‡çº§åˆ°æœ€è¿‘ç‰ˆäº†å—ï¼Ÿ",toContactId:1,fromUser:y(6)},{id:C(),status:"succeed",type:"text",sendTime:1566047865417,content:"wo ç°åœ¨ç”¨çš„142",toContactId:1,fromUser:y(7)}],14:[],15:[]},j=[{label:"è¡¨æƒ…",children:[{name:"1f600",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f600.png"},{name:"1f62c",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f62c.png"},{name:"1f601",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f601.png"},{name:"1f602",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f602.png"},{name:"1f923",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f923.png"},{name:"1f973",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f973.png"},{name:"1f603",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f603.png"},{name:"1f604",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f604.png"},{name:"1f605",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f605.png"},{name:"1f606",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f606.png"},{name:"1f607",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f607.png"},{name:"1f609",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f609.png"},{name:"1f60a",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60a.png"},{name:"1f642",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f642.png"},{name:"1f643",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f643.png"},{name:"1263a",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/263a.png"},{name:"1f60b",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60b.png"},{name:"1f60c",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60c.png"},{name:"1f60d",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60d.png"},{name:"1f970",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f970.png"},{name:"1f618",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f618.png"},{name:"1f617",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f617.png"},{name:"1f619",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f619.png"},{name:"1f61a",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61a.png"},{name:"1f61c",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61c.png"},{name:"1f92a",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f92a.png"},{name:"1f928",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f928.png"},{name:"1f9d0",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f9d0.png"},{name:"1f61d",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61d.png"},{name:"1f61b",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61b.png"},{name:"1f911",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f911.png"},{name:"1f913",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f913.png"},{name:"1f60e",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60e.png"},{name:"1f929",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f929.png"},{name:"1f921",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f921.png"},{name:"1f920",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f920.png"},{name:"1f917",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f917.png"},{name:"1f60f",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f60f.png"},{name:"1f636",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f636.png"},{name:"1f610",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f610.png"},{name:"1f611",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f611.png"},{name:"1f612",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f612.png"},{name:"1f644",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f644.png"},{name:"1f914",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f914.png"},{name:"1f925",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f925.png"},{name:"1f92d",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f92d.png"},{name:"1f92b",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f92b.png"},{name:"1f92c",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f92c.png"},{name:"1f92f",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f92f.png"},{name:"1f633",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f633.png"},{name:"1f61e",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61e.png"},{name:"1f61f",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f61f.png"},{name:"1f620",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f620.png"},{name:"1f621",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f621.png"}]},{label:"æ”¶è—",children:[{name:"1f62c",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f62c.png"},{name:"1f621",title:"å¾®ç¬‘",src:"https://twemoji.maxcdn.com/2/72x72/1f621.png"}]}],I={name:"QqImui",components:{},data:function(){return{}},render:function(){var t=this,e=arguments[0];return e("div",{class:"qq-lemon-imui"},[e("lemon-imui",o()([{class:"lemon-slot",attrs:{user:x,width:900,"avatar-cricle":!0,"hide-message-name":!0,"hide-message-time":!0},ref:"IMUI"},{on:{"pull-messages":this.handlePullMessages,"change-contact":this.handleChangeContact,send:this.handleSend}},{scopedSlots:{"message-title":function(n){return e("div",[e("div",{style:"display:flex;justify-content:space-between"},[e("span",[n.displayName]),e("span",{style:"font-size:12px;"},[e("span",["æ‰“å¼€æŠ½å±‰ï¼š"]),e("span",{class:"cursor:pointer;",on:{click:function(){return t.openDrawer("right")}}},["å³ä¾§ |"," "]),e("span",{class:"cursor:pointer;",on:{click:function(){return t.openDrawer("rightInside")}}},["å³ä¾§å†…éƒ¨ |"," "]),e("span",{class:"cursor:pointer;",on:{click:function(){return t.openDrawer("center")}}},["å±…ä¸­"])])]),n.isGroup&&e("div",{class:"slot-group-menu"},[e("span",["èŠå¤©"]),e("span",["å…¬å‘Š"]),e("span",["ç›¸å†Œ"]),e("span",["æ–‡ä»¶"]),e("span",["æ´»åŠ¨"]),e("span",{directives:[{name:"lemon-contextmenu",value:[{text:"æ“ä½œä¸€",click:function(t,e,n){n()}},{text:"æ“ä½œäºŒ"}],modifiers:{click:!0}}]},["è®¾ç½®(å·¦é”®å¼¹å‡ºèœå•)"])])])},"sidebar-contact-fixedtop":function(t){return e("div",{class:"slot-contact-fixedtop"},[e("input",{class:"slot-search",attrs:{placeholder:"æœç´¢é€šè®¯å½•"}})])},"message-side":function(t){if(t.isGroup)return e("div",{class:"slot-group"},[e("div",{class:"slot-group-title"},["ç¾¤é€šçŸ¥"]),e("div",{class:"slot-group-notice"},["è¿›ç¾¤è¯·æ”¹å¤‡æ³¨ï¼Œæ ¼å¼ï¼Œå·¥ä½œåœ°ç‚¹-å§“åï¼Œè¯·å¤§å®¶é…åˆè°¢è°¢"]),e("div",{class:"slot-group-title"},["ç¾¤æˆå‘˜"]),e("div",{class:"slot-group-panel"},[e("input",{class:"slot-search",attrs:{placeholder:"æœç´¢ç¾¤æˆå‘˜"}}),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"]),e("div",{class:"slot-group-member"},["æ²³å—-96-åé‡Œé’å±±"])])])}}}]))])},computed:{},watch:{},created:function(){},mounted:function(){var t=this.$refs.IMUI;t.initContacts(w),t.initEmoji(j),t.changeContact(13)},methods:{openDrawer:function(t){var e=this.$createElement,n=this.$refs.IMUI,i={position:t,render:function(t){return e("div",{style:"padding:15px"},[e("h5",[t.displayName]),e("span",{on:{click:n.closeDrawer}},["å…³é—­æŠ½å±‰"])])}};"center"==t?(i.width="50%",i.height="50%"):"rightInside"==t&&(i.height="90%",i.offsetY="10%"),n.openDrawer(i)},handlePullMessages:function(t,e){this.$refs.IMUI;setTimeout(function(){e(M[t.id],!0)},3e3)},handleChangeContact:function(){},handleSend:function(t,e,n){console.log(t,e,n),setTimeout(function(){e()},1e3)}}},k=I,S=(n("ce40"),Object(g["a"])(k,h,p,!1,null,null,null)),T=S.exports,O=n("9224");function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}i["a"].component(b.name,b),i["a"].component(T.name,T);var U='export default {\n  //ç»„ä»¶çš„nameå¿…é¡»ä»¥lemonMessageå¼€å¤´ï¼Œåé¢è·Ÿä¸Š Message.type\n  name: "lemonMessageVoice",\n  inheritAttrs: false,\n  //å¦‚æœéœ€è¦ä½¿ç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ³¨å…¥ã€‚\n  inject: ["IMUI"],\n  render() {\n    //lemon-message-basic ç»„ä»¶å¯¹æ°”æ³¡æ¡†ã€å¤´åƒã€äº‹ä»¶ç­‰ä¿¡æ¯è¿›è¡Œäº†å…¬å…±çš„å¤„ç†ã€‚\n    return (\n      <lemon-message-basic\n        class="lemon-message-voice"\n        props={{ ...this.$attrs }}\n        scopedSlots={{\n          content: props => {\n            //è¿”å›HTMLç»“æ„\n            return <span>{props.content}&nbsp;ğŸ”ˆ</span>\n          }\n        }}\n      />\n    );\n  }\n};\n<style lang="stylus">\n.lemon-message.lemon-message-voice\n  user-select none\n  .lemon-message__content\n    border 2px solid #000\n    font-size 12px\n    cursor pointer\n    &::before\n      display none\n</style>',E=function(){return(new Date).getTime()},N=function(){return Math.random().toString(36).substr(-8)},P=function(){return Math.random().toString(36).substr(2)},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e||(e={id:"system",displayName:"ç³»ç»Ÿæµ‹è¯•",avatar:"http://upload.qqbodys.com/allimg/1710/1035512943-0.jpg"}),{id:N(),status:"succeed",type:"text",sendTime:E(),content:P(),toContactId:t,fromUser:e}},L={name:"app",data:function(){var t=this,e=this.$createElement;return{theme:"default",contactContextmenu:[{text:"åˆ é™¤è¯¥èŠå¤©",click:function(t,e,n){var i=e.IMUI,a=e.contact;i.updateContact({id:a.id,lastContent:null}),i.currentContactId==a.id&&i.changeContact(null),n()}},{text:"è®¾ç½®å¤‡æ³¨å’Œæ ‡ç­¾"},{text:"æŠ•è¯‰"},{icon:"lemon-icon-message",render:function(t,e,n){return t("div",{style:"display:flex;justify-content:space-between;align-items:center;width:130px"},[t("span",["åŠ å…¥é»‘åå•"]),t("span",[t("input",{attrs:{type:"checkbox",id:"switch"}}),t("label",{attrs:{id:"switch-label",for:"switch"}},["Toggle"])])])}},{click:function(t,e,n){var i=e.IMUI,a=e.contact;i.removeContact(a.id),i.currentContactId==a.id&&i.changeContact(null),n()},color:"red",text:"åˆ é™¤å¥½å‹"}],contextmenu:[{click:function(t,n,i){var a=n.IMUI,s=n.message,r={id:N(),type:"event",content:e("div",[e("span",["ä½ æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯"," ",e("span",{directives:[{name:"show",value:"text"==s.type}],style:"color:#333;cursor:pointer",attrs:{content:s.content},on:{click:function(t){a.setEditorValue(t.target.getAttribute("content"))}}},["é‡æ–°ç¼–è¾‘"])])]),toContactId:s.toContactId,sendTime:E()};a.removeMessage(s.id),a.appendMessage(r,!0),i()},visible:function(e){return e.message.fromUser.id==t.user.id},text:"æ’¤å›æ¶ˆæ¯"},{visible:function(e){return e.message.fromUser.id!=t.user.id},text:"ä¸¾æŠ¥"},{text:"è½¬å‘"},{visible:function(t){return"text"==t.message.type},text:"å¤åˆ¶æ–‡å­—"},{visible:function(t){return"image"==t.message.type},text:"ä¸‹è½½å›¾ç‰‡"},{visible:function(t){return"file"==t.message.type},text:"ä¸‹è½½æ–‡ä»¶"},{click:function(t,e,n){var i=e.IMUI,a=e.message;i.removeMessage(a.id),n()},icon:"lemon-icon-folder",color:"red",text:"åˆ é™¤"}],tip:U,packageData:O,hideMenuAvatar:!1,hideMenu:!1,hideMessageName:!1,hideMessageTime:!0,user:{id:"1",displayName:"June",avatar:""}}},mounted:function(){var t=this.$createElement,e={id:"contact-1",displayName:"å·¥ä½œåä½œç¾¤",avatar:"http://upload.qqbodys.com/img/weixin/20170804/ji5qxg1am5ztm.jpg",index:"[1]ç¾¤ç»„",unread:0,lastSendTime:1566047865417,lastContent:"2"},n={id:"contact-2",displayName:"è‡ªå®šä¹‰å†…å®¹",avatar:"http://upload.qqbodys.com/img/weixin/20170807/jibfvfd00npin.jpg",click:function(t){t()},renderContainer:function(){return t("h1",{style:"text-indent:20px"},["è‡ªå®šä¹‰é¡µé¢"])},lastSendTime:1345209465e3,lastContent:"12312",unread:2},i={id:"contact-3",displayName:"é“ç‰›",avatar:"http://upload.qqbodys.com/img/weixin/20170803/jiq4nzrkrnd0e.jpg",index:"T",unread:32,lastSendTime:3,lastContent:"ä½ å¥½123"},a=this.$refs.IMUI;setTimeout(function(){a.changeContact("contact-1")},500),a.setLastContentRender("event",function(t){return"[è‡ªå®šä¹‰é€šçŸ¥å†…å®¹]"});var s=[D({},e),D({},n),D({},i)];a.initContacts(s),a.initMenus([{name:"messages"},{name:"contacts"},{name:"custom1",title:"è‡ªå®šä¹‰æŒ‰é’®1",unread:0,render:function(e){return t("i",{class:"lemon-icon-attah"})},renderContainer:function(){return t("div",{class:"article"},[t("ul",[t("li",{class:"article-item"},[t("h2",["äººæ°‘æ—¥æŠ¥è°ˆç½‘çº¢å¸¦è´§ï¼šäº§å“çœŸçš„å€¼å¾—ä¹°å—ï¼Ÿ"])]),t("li",{class:"article-item"},["ç”˜è‚ƒå¤æ²³å¿å‘ç”Ÿ5.7çº§åœ°éœ‡ æš‚æœªæ¥åˆ°äººå‘˜ä¼¤äº¡æŠ¥å‘Š"]),t("li",{class:"article-item"},["åŒ—æ–¹å¤šåœ°é£åŠ›ä»å¼ºæ²™å°˜ç›¸ä¼´,ä¸œåŒ—å†…è’™å¤ç­‰åœ°è¿é›¨é›ª"]),t("li",{class:"article-item"},["è‹±è´§è½¦æ¡ˆï¼šè¶Šå—è­¦æ–¹é‡‡é›†ç–‘æ­»è€…å®¶å±DNAä½œæ¯”å¯¹"]),t("li",{class:"article-item"},["çŸ¥åè¿é”å’–å•¡åº—çš„è›‹ç³•åƒå‡ºæ´»è™« æ›å…‰å†…å¹•å¤ªéœ‡æƒŠ"])]),t("lemon-contact",o()([{},{props:{contact:e}},{style:"margin:20px"}])),t("lemon-contact",o()([{},{props:{contact:i}},{style:"margin:20px"}]))])},isBottom:!0},{name:"custom2",title:"è‡ªå®šä¹‰æŒ‰é’®2",unread:0,click:function(){alert("æ‹¦æˆªå¯¼èˆªç‚¹å‡»äº‹ä»¶")},render:function(e){return t("i",{class:"lemon-icon-group"})},isBottom:!0}]),a.initEditorTools([{name:"emoji"},{name:"uploadFile"},{name:"uploadImage"},{name:"test1",click:function(){a.$refs.editor.selectFile("application/vnd.ms-excel")},render:function(){return t("span",["Excel"])}},{name:"test1",click:function(){a.initEditorTools([{name:"uploadFile"},{name:"emoji"}])},render:function(){return t("span",["é‡åˆ¶å·¥å…·æ "])}},{name:"test2",isRight:!0,title:"ä¸Šä¼  Excel",click:function(){alert("ç‚¹å‡»äº† Â·Â·Â· ")},render:function(){return t("b",["Â·Â·Â·"])}}]),a.initEmoji(j),a.setLastContentRender("voice",function(e){return t("span",["[è¯­éŸ³]"])});var r=this.$refs.SimpleIMUI;e.id="11",r.initContacts([e]),r.initEmoji(j),r.changeContact(e.id)},methods:{changeTheme:function(){this.theme="default"==this.theme?"blue":"default"},scrollToTop:function(){document.body.scrollIntoView()},handleMenuAvatarClick:function(){console.log("Event:menu-avatar-click")},handleMessageClick:function(t,e,n,i){console.log("ç‚¹å‡»äº†æ¶ˆæ¯",t,e,n),"status"==e&&(i.updateMessage({id:n.id,status:"going",content:"æ­£åœ¨é‡æ–°å‘é€æ¶ˆæ¯..."}),setTimeout(function(){i.updateMessage({id:n.id,status:"succeed",content:"å‘é€æˆåŠŸ"})},2e3))},changeMenuAvatarVisible:function(){this.hideMenuAvatar=!this.hideMenuAvatar},changeMenuVisible:function(){this.hideMenu=!this.hideMenu},changeMessageNameVisible:function(){this.hideMessageName=!this.hideMessageName},changeMessageTimeVisible:function(){this.hideMessageTime=!this.hideMessageTime},removeMessage:function(){var t=this.$refs.IMUI,e=t.getCurrentMessages(),n=e[e.length-1].id;e.length>0&&t.removeMessage(n)},updateMessage:function(){var t=this.$refs.IMUI,e=t.getCurrentMessages(),n=e[e.length-1];if(e.length>0){var i={id:n.id,status:"succeed",type:"file",fileName:"è¢«ä¿®æ”¹æˆæ–‡ä»¶äº†.txt",fileSize:"4200000"};"event"==n.type&&(i.fromUser=this.user),t.updateMessage(i),t.messageViewToBottom()}},appendCustomMessage:function(){var t=this.$refs.IMUI,e={id:N(),status:"succeed",type:"voice",sendTime:E(),content:"è¯­éŸ³æ¶ˆæ¯",params1:"1",params2:"2",toContactId:"contact-1",fromUser:this.user};t.appendMessage(e,!0)},appendMessage:function(){var t=this.$refs.IMUI,e=(t.currentContact,F("contact-3"));e.fromUser=D({},e.fromUser,{},this.user),t.appendMessage(e,!0)},appendEventMessage:function(){var t=this.$createElement,e=this.$refs.IMUI,n={id:N(),type:"event",content:t("span",["é‚€è¯·ä½ åŠ å…¥ç¾¤èŠ"," ",t("span",{style:"color:#333;cursor:pointer",on:{click:function(){return alert("OK")}}},["æ¥å—"])]),toContactId:"contact-3",sendTime:E()};e.appendMessage(n,!0)},updateContact:function(){this.$refs.IMUI.updateContact({id:"contact-3",unread:10,displayName:P(),lastSendTime:E(),lastContent:"ä¿®æ”¹æ˜µç§°ä¸ºéšæœºå­—æ¯"})},changeDrawer:function(t,e){var n=this.$createElement;e.changeDrawer({render:function(){return n("div",{class:"drawer-content"},[n("p",[n("b",["è‡ªå®šä¹‰æŠ½å±‰"])]),n("p",[t.displayName])])}})},handleChangeContact:function(t,e){console.log("Event:change-contact"),e.updateContact({id:t.id,unread:0}),e.closeDrawer()},handleSend:function(t,e,n){console.log(t,e,n),setTimeout(function(){e()},1e3)},handlePullMessages:function(t,e,n){var i=this,a={id:t.id,displayName:t.displayName,avatar:t.avatar};setTimeout(function(){var t=[F(n.currentContactId,i.user),F(n.currentContactId,a),F(n.currentContactId,i.user),F(n.currentContactId,a),F(n.currentContactId,i.user),F(n.currentContactId,i.user),F(n.currentContactId,a),D({},F(n.currentContactId,i.user),{},{status:"failed"})],s=!1;n.getMessages(n.currentContactId).length+t.length>11&&(s=!0),e(t,s)},500)},handleChangeMenu:function(){console.log("Event:change-menu")},openCustomContainer:function(){}}},R=L,B=(n("9c9b"),Object(g["a"])(R,a,s,!1,null,null,null)),V=B.exports;n("3b2b"),n("8615");function q(t){return"[object Object]"===Object.prototype.toString.call(t)}function A(t){return"string"==typeof t}function z(t){return(new Date).getTime()-t<864e5}function K(t){return!t||(!(!Array.isArray(t)||0!=t.length)||!(!q(t)||0!=Object.values(t).length))}function H(t){return t&&"function"===typeof t}n("96cf");var Y,W,G,J=n("3b8d"),Q=(n("6762"),n("2fdb"),[]),X={hover:function(t){},focus:function(t){var e=this;t.addEventListener("focus",function(t){e.changeVisible()}),t.addEventListener("blur",function(t){e.changeVisible()})},click:function(t){var e=this;t.addEventListener("click",function(t){t.stopPropagation(),ht.hide(),e.changeVisible()})},contextmenu:function(t){var e=this;t.addEventListener("contextmenu",function(t){t.preventDefault(),e.changeVisible()})}},Z={name:"LemonPopover",props:{trigger:{type:String,default:"click",validator:function(t){return Object.keys(X).includes(t)}}},data:function(){return{popoverStyle:{},visible:!1}},created:function(){document.addEventListener("click",this._documentClickEvent),Q.push(this.close)},mounted:function(){X[this.trigger].call(this,this.$slots.default[0].elm)},render:function(){var t=arguments[0];return t("span",{style:"position:relative"},[t("transition",{attrs:{name:"lemon-slide-top"}},[this.visible&&t("div",{class:"lemon-popover",ref:"popover",style:this.popoverStyle,on:{click:function(t){return t.stopPropagation()}}},[t("div",{class:"lemon-popover__content"},[this.$slots.content]),t("div",{class:"lemon-popover__arrow"})])]),this.$slots.default])},destroyed:function(){document.removeEventListener("click",this._documentClickEvent)},computed:{},watch:{visible:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,this.$nextTick();case 3:n=this.$slots.default[0].elm,i=this.$refs.popover,this.popoverStyle={top:"-".concat(i.offsetHeight+10,"px"),left:"".concat(n.offsetWidth/2-i.offsetWidth/2,"px")};case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},methods:{_documentClickEvent:function(t){t.stopPropagation(),this.visible&&this.close()},changeVisible:function(){this.visible?this.close():this.open()},open:function(){this.closeAll(),this.visible=!0},closeAll:function(){Q.forEach(function(t){return t()})},close:function(){this.visible=!1}}},tt=Z,et=(n("0e15"),Object(g["a"])(tt,Y,W,!1,null,null,null)),nt=et.exports,it=function(){G&&(G.style.display="none")},at=function(){G&&(G.style.display="block")};document.addEventListener("click",function(t){it()});var st,rt,ot,ct,dt,lt,ut,mt,ht={hide:it,bind:function(t,e,n){t.addEventListener(e.modifiers.click?"click":"contextmenu",function(t){if(!K(e.value)&&Array.isArray(e.value)){var i;e.modifiers.click&&t.stopPropagation(),t.preventDefault(),nt.methods.closeAll();var a=[];e.modifiers.message?i=n.context:e.modifiers.contact&&(i=n.child),G||(G=document.createElement("div"),G.className="lemon-contextmenu",document.body.appendChild(G)),G.innerHTML=e.value.map(function(t){var e;if(e=H(t.visible)?t.visible(i):void 0===t.visible||t.visible,e){a.push(t);var n=t.icon?'<i class="lemon-contextmenu__icon '.concat(t.icon,'"></i>'):"";return'<div style="color:'.concat(t.color,'" title="').concat(t.text,'" class="lemon-contextmenu__item">').concat(n,"<span>").concat(t.text,"</span></div>")}return""}).join(""),G.style.top="".concat(t.pageY,"px"),G.style.left="".concat(t.pageX,"px"),G.childNodes.forEach(function(t,e){var n=a[e],s=n.click;n.render;t.addEventListener("click",function(t){t.stopPropagation(),H(s)&&s(t,i,it)})}),at()}})}},pt={name:"LemonTabs",props:{activeIndex:String},data:function(){return{active:this.activeIndex}},mounted:function(){this.active||(this.active=this.$slots["tab-pane"][0].data.attrs.index)},render:function(){var t=this,e=arguments[0],n=[],i=[];return this.$slots["tab-pane"].map(function(a){var s=a.data.attrs,r=s.tab,o=s.index;n.push(e("div",{class:"lemon-tabs-content__pane",directives:[{name:"show",value:t.active==o}]},[a])),i.push(e("div",{class:["lemon-tabs-nav__item",t.active==o&&"lemon-tabs-nav__item--active"],on:{click:function(){return t._handleNavClick(o)}}},[r]))}),e("div",{class:"lemon-tabs"},[e("div",{class:"lemon-tabs-content"},[n]),e("div",{class:"lemon-tabs-nav"},[i])])},methods:{_handleNavClick:function(t){this.active=t}}},vt=pt,ft=(n("3423"),Object(g["a"])(vt,st,rt,!1,null,null,null)),gt=ft.exports,_t={name:"LemonButton",props:{color:{type:String,default:"default"},disabled:Boolean},render:function(){var t=arguments[0];return t("button",{class:["lemon-button","lemon-button--color-".concat(this.color)],attrs:{disabled:this.disabled,type:"button"},on:{click:this._handleClick}},[this.$slots.default])},methods:{_handleClick:function(t){this.$emit("click",t)}}},bt=_t,xt=(n("1e45"),Object(g["a"])(bt,ot,ct,!1,null,null,null)),wt=xt.exports,Ct=(n("c5f6"),{name:"LemonBadge",props:{count:[Number,Boolean],overflowCount:{type:Number,default:99}},render:function(){var t=arguments[0];return t("span",{class:"lemon-badge"},[this.$slots.default,0!==this.count&&void 0!==this.count&&t("span",{class:["lemon-badge__label",this.isDot&&"lemon-badge__label--dot"]},[this.label])])},computed:{isDot:function(){return!0===this.count},label:function(){return this.isDot?"":this.count>this.overflowCount?"".concat(this.overflowCount,"+"):this.count}},methods:{}}),yt=Ct,Mt=(n("dbdc"),Object(g["a"])(yt,dt,lt,!1,null,null,null)),jt=Mt.exports,It={name:"LemonAvatar",inject:["IMUI"],props:{src:String,icon:{type:String,default:"lemon-icon-people"},circle:{type:Boolean,default:function(){return!!this.IMUI&&this.IMUI.avatarCricle}},size:{type:Number,default:32}},data:function(){return{imageFinishLoad:!0}},render:function(){var t=this,e=arguments[0];return e("span",{style:this.style,class:["lemon-avatar",{"lemon-avatar--circle":this.circle}],on:{click:function(e){return t.$emit("click",e)}}},[(this.imageFinishLoad||!this.src)&&e("i",{class:this.icon}),e("img",{attrs:{src:this.src},on:{load:this._handleLoad}})])},computed:{style:function(){var t="".concat(this.size,"px");return{width:t,height:t,lineHeight:t,fontSize:"".concat(this.size/2,"px")}}},methods:{_handleLoad:function(){this.imageFinishLoad=!1}}},kt=It,St=(n("04f4"),Object(g["a"])(kt,ut,mt,!1,null,null,null)),Tt=St.exports;n("a481");function Ot(t,e,n){return t?t(n):e}function $t(t){return t<10?"0".concat(t):t}function Dt(t){var e,n=new Date(t),i=new Date,a=function(t){return t.getFullYear()},s=function(t){return"".concat(t.getMonth()+1,"-").concat(t.getDate())},r=a(n),o=a(i);return e=r!==o?"yå¹´mæœˆdæ—¥ h:i":"".concat(r,"-").concat(s(n))==="".concat(o,"-").concat(s(i))?"h:i":"mæœˆdæ—¥ h:i",Ut(t,e)}function Ut(t,e){e||(e="y-m-d h:i:s"),t=t?new Date(t):new Date;for(var n=[t.getFullYear().toString(),$t((t.getMonth()+1).toString()),$t(t.getDate().toString()),$t(t.getHours().toString()),$t(t.getMinutes().toString()),$t(t.getSeconds().toString())],i="ymdhis",a=0;a<n.length;a++)e=e.replace(i.charAt(a),n[a]);return e}function Et(t,e){H(t)?t(function(){e()}):e()}function Nt(t){return t.replace(/<.*?>/gi,"")}function Pt(t){return t.replace(/<(?!img).*?>/gi,"")}function Ft(t){if(null==t||""==t)return"0 Bytes";var e=["B","K","M","G","T","P","E","Z","Y"],n=0,i=parseFloat(t);n=Math.floor(Math.log(i)/Math.log(1024));var a=i/Math.pow(1024,n);return a=parseFloat(a.toFixed(2)),a+e[n]}function Lt(){var t=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(t+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e}var Rt,Bt,Vt={name:"LemonContact",components:{},inject:{IMUI:{from:"IMUI",default:function(){return this}}},data:function(){return{}},props:{contact:Object,simple:Boolean,timeFormat:{type:Function,default:function(t){return Ut(t,z(t)?"h:i":"y/m/d")}}},render:function(){var t=this,e=arguments[0];return e("div",{class:["lemon-contact",{"lemon-contact--name-center":this.simple}],attrs:{title:this.contact.displayName},on:{click:function(e){return t._handleClick(e,t.contact)}}},[Ot(this.$scopedSlots.default,this._renderInner(),this.contact)])},created:function(){},mounted:function(){},computed:{},watch:{},methods:{_renderInner:function(){var t=this.$createElement,e=this.contact;return[t("lemon-badge",{attrs:{count:this.simple?0:e.unread},class:"lemon-contact__avatar"},[t("lemon-avatar",{attrs:{size:40,src:e.avatar}})]),t("div",{class:"lemon-contact__inner"},[t("p",{class:"lemon-contact__label"},[t("span",{class:"lemon-contact__name"},[e.displayName]),!this.simple&&t("span",{class:"lemon-contact__time"},[this.timeFormat(e.lastSendTime)])]),!this.simple&&t("p",{class:"lemon-contact__content"},[A(e.lastContent)?t("span",o()([{},{domProps:{innerHTML:e.lastContent}}])):e.lastContent])])]},_handleClick:function(t,e){this.$emit("click",e)}}},qt=Vt,At=(n("909e"),Object(g["a"])(qt,Rt,Bt,!1,null,null,null)),zt=At.exports,Kt=(n("5df3"),n("1c4c"),n("619d"));function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Wt,Gt,Jt,Qt,Xt,Zt,te,ee=function(t,e){document.execCommand(t,!1,e)},ne=window.getSelection(),ie=[],ae={name:"LemonEditor",inject:{IMUI:{from:"IMUI",default:function(){return this}}},components:{},props:{tools:{type:Array,default:function(){return[]}},sendText:{type:String,default:"å‘ é€"},wrapKey:{type:Function,default:function(t){return 13==t.keyCode&&0==t.ctrlKey&&0==t.shiftKey}},sendKey:{type:Function,default:function(t){return 13==t.keyCode&&!0===t.ctrlKey}}},data:function(){return this.clipboardBlob=null,{clipboardUrl:"",submitDisabled:!0,accept:""}},created:function(){var t=this;this.IMUI.$on("change-contact",function(){t.closeClipboardImage()})},render:function(){var t=this,e=arguments[0],n=[],i=[];return this.proxyTools.forEach(function(a){var s=a.name,r=a.title,o=a.render,c=a.click,d=a.isRight;c=c||new Function;var l,u=["lemon-editor__tool-item",{"lemon-editor__tool-item--right":d}];l="emoji"==s?0==ie.length?"":e("lemon-popover",{class:"lemon-editor__emoji"},[e("template",{slot:"content"},[t._renderEmojiTabs()]),e("div",{class:u,attrs:{title:r}},[o()])]):e("div",{class:u,on:{click:c},attrs:{title:r}},[o()]),d?i.push(l):n.push(l)}),e("div",{class:"lemon-editor"},[this.clipboardUrl&&e("div",{class:"lemon-editor__clipboard-image"},[e("img",{attrs:{src:this.clipboardUrl}}),e("div",[e("lemon-button",{style:{marginRight:"10px"},on:{click:this.closeClipboardImage},attrs:{color:"grey"}},["å–æ¶ˆ"]),e("lemon-button",{on:{click:this.sendClipboardImage}},["å‘é€å›¾ç‰‡"])])]),e("input",{style:"display:none",attrs:{type:"file",multiple:"multiple",accept:this.accept},ref:"fileInput",on:{change:this._handleChangeFile}}),e("div",{class:"lemon-editor__tool"},[e("div",{class:"lemon-editor__tool-left"},[n]),e("div",{class:"lemon-editor__tool-right"},[i])]),e("div",{class:"lemon-editor__inner"},[e("div",{class:"lemon-editor__input",ref:"textarea",attrs:{contenteditable:"true",spellcheck:"false"},on:{keyup:this._handleKeyup,keydown:this._handleKeydown,paste:this._handlePaste,click:this._handleClick}})]),e("div",{class:"lemon-editor__footer"},[e("div",{class:"lemon-editor__tip"},[Ot(this.IMUI.$scopedSlots["editor-footer"],"ä½¿ç”¨ ctrl + enter å¿«æ·å‘é€æ¶ˆæ¯")]),e("div",{class:"lemon-editor__submit"},[e("lemon-button",{attrs:{disabled:this.submitDisabled},on:{click:this._handleSend}},[this.sendText])])])])},computed:{proxyTools:function(){var t=this,e=this.$createElement;if(console.log("this.tools",this.tools),!this.tools)return[];var n=[{name:"emoji",title:"è¡¨æƒ…",click:null,render:function(t){return e("i",{class:"lemon-icon-emoji"})}},{name:"uploadFile",title:"æ–‡ä»¶ä¸Šä¼ ",click:function(){return t.selectFile("*")},render:function(t){return e("i",{class:"lemon-icon-folder"})}},{name:"uploadImage",title:"å›¾ç‰‡ä¸Šä¼ ",click:function(){return t.selectFile("image/*")},render:function(t){return e("i",{class:"lemon-icon-image"})}}],i=[];if(Array.isArray(this.tools)){var a={emoji:0,uploadFile:1,uploadImage:2},s=Object.keys(a);i=this.tools.map(function(t){return s.includes(t.name)?Yt({},n[a[t.name]],{},t):t})}else i=n;return i}},methods:{closeClipboardImage:function(){this.clipboardUrl="",this.clipboardBlob=null},sendClipboardImage:function(){this.clipboardBlob&&(this.$emit("upload",this.clipboardBlob),this.closeClipboardImage())},saveRangeToLast:function(){Wt||(Wt=document.createRange()),Wt.selectNodeContents(textarea.value),Wt.collapse(!1),ne.removeAllRanges(),ne.addRange(Wt)},inertContent:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&saveRangeToLast(),this.focusRange(),ee("insertHTML",t),this.saveRange()},saveRange:function(){Wt=ne.getRangeAt(0)},focusRange:function(){this.$refs.textarea.focus(),Wt&&(ne.removeAllRanges(),ne.addRange(Wt))},_handleClick:function(){this.saveRange()},_renderEmojiTabs:function(){var t=this,e=this.$createElement,n=function(n){return n.map(function(n){return e("img",{attrs:{src:n.src,title:n.title},class:"lemon-editor__emoji-item",on:{click:function(){return t._handleSelectEmoji(n)}}})})};if(ie[0].label){var i=ie.map(function(t,i){return e("div",{slot:"tab-pane",attrs:{index:i,tab:t.label}},[n(t.children)])});return e("lemon-tabs",{style:"width: 412px"},[i])}return e("div",{class:"lemon-tabs-content",style:"width:406px"},[n(ie)])},_handleSelectEmoji:function(t){this.inertContent('<img emoji-name="'.concat(t.name,'" src="').concat(t.src,'"></img>')),this._checkSubmitDisabled()},selectFile:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.accept=e,t.next=3,this.$nextTick();case 3:this.$refs.fileInput.click();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),_handlePaste:function(t){t.preventDefault();var e=t.clipboardData||window.clipboardData,n=e.getData("Text");if(n)window.clipboardData?this.$refs.textarea.innerHTML=n:ee("insertText",n);else{var i=this._getClipboardBlob(e),a=i.blob,s=i.blobUrl;this.clipboardBlob=a,this.clipboardUrl=s}},_getClipboardBlob:function(t){for(var e,n,i=0;i<t.items.length;++i)"file"==t.items[i].kind&&-1!==t.items[i].type.indexOf("image/")&&(e=t.items[i].getAsFile(),n=(window.URL||window.webkitURL).createObjectURL(e));return{blob:e,blobUrl:n}},_handleKeyup:function(t){this.saveRange(),this._checkSubmitDisabled()},_handleKeydown:function(t){var e=!1;if(e){if(38==t.keyCode||40==t.keyCode)return t.preventDefault(),38==t.keyCode&&ATSelectedPrev(),void(40==t.keyCode&&ATSelectedNext());if(13==t.keyCode)return t.preventDefault(),void ATSelected();37!=t.keyCode&&39!=t.keyCode||ATPopupClose()}(13==t.keyCode||13==t.keyCode&&t.shiftKey)&&t.preventDefault(),this.wrapKey(t)&&(t.preventDefault(),ee("insertLineBreak")),this.at&&("@"==t.key||t.shiftKey&&229==t.keyCode)&&setTimeout(function(){return Object(Kt["a"])("ATing"),e=!0},300),0==this.submitDisabled&&this.sendKey(t)&&this._handleSend()},getFormatValue:function(){return this.IMUI.emojiImageToName(this.$refs.textarea.innerHTML)},_checkSubmitDisabled:function(){this.submitDisabled=!Pt(this.$refs.textarea.innerHTML.trim())},_handleSend:function(t){var e=this.getFormatValue();this.$emit("send",e),this.clear(),this._checkSubmitDisabled()},_handleChangeFile:function(t){var e=this,n=this.$refs.fileInput;Array.from(n.files).forEach(function(t){e.$emit("upload",t)}),n.value=""},clear:function(){this.$refs.textarea.innerHTML=""},initEmoji:function(t){ie=t,this.$forceUpdate()},setValue:function(t){this.$refs.textarea.innerHTML=this.IMUI.emojiNameToImage(t),this._checkSubmitDisabled()}}},se=ae,re=(n("49c2"),Object(g["a"])(se,Gt,Jt,!1,null,null,null)),oe=re.exports,ce={name:"LemonMessages",components:{},props:{hideName:Boolean,hideTime:Boolean,reverseUserId:[String,Number],timeRange:{type:Number,default:1},timeFormat:{type:Function,default:function(t){return Dt(t)}},loadingText:{type:[String,Function]},loadendText:{type:[String,Function],default:"æš‚æ— æ›´å¤šæ¶ˆæ¯"},messages:{type:Array,default:function(){return[]}}},data:function(){return this._lockScroll=!1,{_loading:!1,_loadend:!1}},render:function(){var t=this,e=arguments[0];return e("div",{class:"lemon-messages",ref:"wrap",on:{scroll:this._handleScroll}},[e("div",{class:["lemon-messages__load","lemon-messages__load--".concat(this._loadend?"end":"ing")]},[e("span",{class:"lemon-messages__loadend"},[A(this.loadendText)?this.loadendText:this.loadendText()]),e("span",{class:"lemon-messages__loading"},[this.loadingText?A(this.loadingText)?this.loadingText:this.loadingText():e("i",{class:"lemon-icon-loading lemonani-spin"})])]),this.messages.map(function(n,i){var a,s=[],r="lemon-message-".concat(n.type),c=t.messages[i-1];return c&&t.msecRange&&n.sendTime-c.sendTime>t.msecRange&&s.push(e("lemon-message-event",o()([{},{attrs:{message:{id:"__time__",type:"event",content:Dt(n.sendTime)}}}]))),a="event"==n.type?{message:n}:{timeFormat:t.timeFormat,message:n,reverse:t.reverseUserId==n.fromUser.id,hideTime:t.hideTime,hideName:t.hideName},s.push(e(r,o()([{ref:"message",refInFor:!0},{attrs:a}]))),s})])},computed:{msecRange:function(){return 1e3*this.timeRange*60}},watch:{},methods:{loaded:function(){this._loadend=!0,this.$forceUpdate()},resetLoadState:function(){var t=this;this._lockScroll=!0,this._loading=!1,this._loadend=!1,setTimeout(function(){t._lockScroll=!1},200)},_handleScroll:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(e){var n,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this._lockScroll){t.next=2;break}return t.abrupt("return");case 2:if(n=e.target,ht.hide(),0!=n.scrollTop||0!=this._loading||0!=this._loadend){t.next=10;break}return this._loading=!0,t.next=8,this.$nextTick();case 8:i=n.scrollHeight,this.$emit("reach-top",function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$nextTick();case 2:n.scrollTop=n.scrollHeight-i,a._loading=!1,a._loadend=!!e;case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),scrollToBottom:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:e=this.$refs.wrap,e&&(e.scrollTop=e.scrollHeight);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){},mounted:function(){}},de=ce,le=(n("436f"),Object(g["a"])(de,Qt,Xt,!1,null,null,null)),ue=le.exports,me={name:"lemonMessageBasic",inject:{IMUI:{from:"IMUI",default:function(){return this}}},props:{contextmenu:Array,message:{type:Object,default:function(){return{}}},timeFormat:{type:Function,default:function(){return""}},reverse:Boolean,hideName:Boolean,hideTime:Boolean},data:function(){return{}},render:function(){var t=this,e=arguments[0],n=this.message,i=n.fromUser,a=n.status,s=n.sendTime,r=1==this.hideName&&1==this.hideTime;return e("div",{class:["lemon-message","lemon-message--status-".concat(a),{"lemon-message--reverse":this.reverse,"lemon-message--hide-title":r}]},[e("div",{class:"lemon-message__avatar"},[e("lemon-avatar",{attrs:{size:36,shape:"square",src:i.avatar},on:{click:function(e){t._emitClick(e,"avatar")}}})]),e("div",{class:"lemon-message__inner"},[e("div",{class:"lemon-message__title"},[0==this.hideName&&e("span",{on:{click:function(e){t._emitClick(e,"displayName")}}},[i.displayName]),0==this.hideTime&&e("span",{class:"lemon-message__time",on:{click:function(e){t._emitClick(e,"sendTime")}}},[this.timeFormat(s)])]),e("div",{class:"lemon-message__content-flex"},[e("div",{directives:[{name:"lemon-contextmenu",value:this.IMUI.contextmenu,modifiers:{message:!0}}],class:"lemon-message__content",on:{click:function(e){t._emitClick(e,"content")}}},[Ot(this.$scopedSlots["content"],null,this.message)]),e("div",{class:"lemon-message__content-after"},[Ot(this.IMUI.$scopedSlots["message-after"],null,this.message)]),e("div",{class:"lemon-message__status",on:{click:function(e){t._emitClick(e,"status")}}},[e("i",{class:"lemon-icon-loading lemonani-spin"}),e("i",{class:"lemon-icon-prompt",attrs:{title:"é‡å‘æ¶ˆæ¯"},style:{color:"#ff2525",cursor:"pointer"}})])])])])},created:function(){},mounted:function(){},computed:{},watch:{},methods:{_emitClick:function(t,e){this.IMUI.$emit("message-click",t,e,this.message,this.IMUI)}}},he=me,pe=(n("fbd1"),Object(g["a"])(he,Zt,te,!1,null,null,null)),ve=pe.exports;function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var _e,be,xe={name:"lemonMessageText",inheritAttrs:!1,inject:["IMUI"],render:function(){var t=this,e=arguments[0];return e("lemon-message-basic",o()([{class:"lemon-message-text"},{props:ge({},this.$attrs)},{scopedSlots:{content:function(n){var i=t.IMUI.emojiNameToImage(n.content);return e("span",o()([{},{domProps:{innerHTML:i}}]))}}}]))}},we=xe,Ce=(n("1663"),Object(g["a"])(we,_e,be,!1,null,null,null)),ye=Ce.exports;function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ie,ke,Se={name:"lemonMessageImage",inheritAttrs:!1,render:function(){var t=arguments[0];return t("lemon-message-basic",o()([{class:"lemon-message-image"},{props:je({},this.$attrs)},{scopedSlots:{content:function(e){return t("img",{attrs:{src:e.content}})}}}]))}},Te=Se,Oe=(n("4d21"),Object(g["a"])(Te,Ie,ke,!1,null,null,null)),$e=Oe.exports;function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ee,Ne,Pe,Fe,Le={name:"lemonMessageFile",inheritAttrs:!1,render:function(){var t=arguments[0];return t("lemon-message-basic",o()([{class:"lemon-message-file"},{props:Ue({},this.$attrs)},{scopedSlots:{content:function(e){return[t("div",{class:"lemon-message-file__inner"},[t("p",{class:"lemon-message-file__name"},[e.fileName]),t("p",{class:"lemon-message-file__byte"},[Ft(e.fileSize)])]),t("div",{class:"lemon-message-file__sfx"},[t("i",{class:"lemon-icon-attah"})])]}}}]))}},Re=Le,Be=(n("cfab"),Object(g["a"])(Re,Ee,Ne,!1,null,null,null)),Ve=Be.exports,qe={name:"lemonMessageEvent",inheritAttrs:!1,inject:["IMUI"],render:function(){var t=this,e=arguments[0],n=this.$attrs.message.content;return e("div",{class:"lemon-message lemon-message-event"},[e("span",{class:"lemon-message-event__content",on:{click:function(e){return t._emitClick(e,"content")}}},[n])])},methods:{_emitClick:function(t,e){this.IMUI.$emit("message-click",t,e,this.$attrs.message,this.IMUI)}}},Ae=qe,ze=(n("ed4b"),Object(g["a"])(Ae,Pe,Fe,!1,null,null,null)),Ke=ze.exports,He=(n("20d6"),n("75fc")),Ye=(n("f559"),n("55dd"),"messages"),We="contacts",Ge=[Ye,We],Je={file:function(t){return"[æ–‡ä»¶]"},image:function(t){return"[å›¾ç‰‡]"},text:function(t){return this.emojiNameToImage(Nt(t.content))},event:function(t){return"[é€šçŸ¥]"}},Qe=n("d225"),Xe=n("b0b4"),Ze=function(){function t(){Object(Qe["a"])(this,t),this.table={}}return Object(Xe["a"])(t,[{key:"get",value:function(t){return t?this.table[t]:this.table}},{key:"set",value:function(t,e){this.table[t]=e}},{key:"remove",value:function(t){t?delete this.table[t]:this.table={}}},{key:"has",value:function(t){return!!this.table[t]}}]),t}();function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nn,an,sn={},rn={},on=function(t){return A(t)?t:"".concat(t,"px")},cn=function(t){return t.replace("%","")/100},dn=function(){},ln={name:"LemonImui",provide:function(){return{IMUI:this}},props:{width:{type:[String,Number],default:850},height:{type:[String,Number],default:580},theme:{type:String,default:"default"},simple:{type:Boolean,default:!1},loadingText:[String,Function],loadendText:[String,Function],messageTimeFormat:Function,contactTimeFormat:Function,hideDrawer:{type:Boolean,default:!0},hideMenuAvatar:Boolean,hideMenu:Boolean,hideMessageName:Boolean,hideMessageTime:Boolean,sendKey:Function,sendText:String,contextmenu:Array,contactContextmenu:Array,avatarCricle:Boolean,user:{type:Object,default:function(){return{}}}},data:function(){return this.CacheContactContainer=new Ze,this.CacheMenuContainer=new Ze,this.CacheMessageLoaded=new Ze,this.CacheDraft=new Ze,{drawerVisible:!this.hideDrawer,currentContactId:null,currentMessages:[],activeSidebar:Ye,contacts:[],menus:[],editorTools:[{name:"emoji"},{name:"uploadFile"},{name:"uploadImage"}]}},render:function(){return this._renderWrapper([this._renderMenu(),this._renderSidebarMessage(),this._renderSidebarContact(),this._renderContainer(),this._renderDrawer()])},created:function(){this.initMenus()},mounted:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{currentContact:function(){var t=this;return this.contacts.find(function(e){return e.id==t.currentContactId})||{}},currentMenu:function(){var t=this;return this.menus.find(function(e){return e.name==t.activeSidebar})||{}},currentIsDefSidebar:function(){return Ge.includes(this.activeSidebar)},lastMessages:function(){var t=this.contacts.filter(function(t){return!K(t.lastContent)});return t.sort(function(t,e){return e.lastSendTime-t.lastSendTime}),t}},watch:{activeSidebar:function(){}},methods:{_menuIsContacts:function(){return this.activeSidebar==We},_menuIsMessages:function(){return this.activeSidebar==Ye},_createMessage:function(t){return en({},{id:Lt(),type:"text",status:"going",sendTime:(new Date).getTime(),toContactId:this.currentContactId,fromUser:en({},this.user)},{},t)},appendMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===sn[t.toContactId])this.updateContact({id:t.toContactId,unread:"+1",lastSendTime:t.sendTime,lastContent:this.lastContentRender(t)});else{this._addMessage(t,t.toContactId,1);var n={id:t.toContactId,lastContent:this.lastContentRender(t),lastSendTime:t.sendTime};t.toContactId==this.currentContactId?(1==e&&this.messageViewToBottom(),this.CacheDraft.remove(t.toContactId)):n.unread="+1",this.updateContact(n)}},_emitSend:function(t,e,n){var i=this;this.$emit("send",t,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"succeed"};e(),i.updateMessage(Object.assign(t,n))},n)},_handleSend:function(t){var e=this,n=this._createMessage({content:t});this.appendMessage(n,!0),this._emitSend(n,function(){e.updateContact({id:n.toContactId,lastContent:e.lastContentRender(n),lastSendTime:n.sendTime}),e.CacheDraft.remove(n.toContactId)})},_handleUpload:function(t){var e,n=this,i=["image/gif","image/jpeg","image/png"];e=i.includes(t.type)?{type:"image",content:URL.createObjectURL(t)}:{type:"file",fileSize:t.size,fileName:t.name,content:""};var a=this._createMessage(e);this.appendMessage(a,!0),this._emitSend(a,function(){n.updateContact({id:a.toContactId,lastContent:n.lastContentRender(a),lastSendTime:a.sendTime})},t)},_emitPullMessages:function(t){var e=this;this._changeContactLock=!0,this.$emit("pull-messages",this.currentContact,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e._addMessage(n,e.currentContactId,0),e.CacheMessageLoaded.set(e.currentContactId,i),1==i&&e.$refs.messages.loaded(),e.updateCurrentMessages(),e._changeContactLock=!1,t(i)},this)},clearCacheContainer:function(t){this.CacheContactContainer.remove(t),this.CacheMenuContainer.remove(t)},_renderWrapper:function(t){var e=this.$createElement;return e("div",{style:{width:on(this.width),height:on(this.height)},ref:"wrapper",class:["lemon-wrapper","lemon-wrapper--theme-".concat(this.theme),{"lemon-wrapper--simple":this.simple},this.drawerVisible&&"lemon-wrapper--drawer-show"]},[t])},_renderMenu:function(){var t=this,e=this.$createElement,n=this._renderMenuItem();return e("div",{class:"lemon-menu",directives:[{name:"show",value:!this.hideMenu}]},[e("lemon-avatar",{directives:[{name:"show",value:!this.hideMenuAvatar}],on:{click:function(e){t.$emit("menu-avatar-click",e)}},class:"lemon-menu__avatar",attrs:{src:this.user.avatar}}),n.top,this.$slots.menu,e("div",{class:"lemon-menu__bottom"},[this.$slots["menu-bottom"],n.bottom])])},_renderMenuAvatar:function(){},_renderMenuItem:function(){var t=this,e=this.$createElement,n=[],i=[];return this.menus.forEach(function(a){var s=a.name,r=a.title,o=a.unread,c=a.render,d=a.click,l=e("div",{class:["lemon-menu__item",{"lemon-menu__item--active":t.activeSidebar==s}],on:{click:function(){Et(d,function(){s&&t.changeMenu(s)})}},attrs:{title:r}},[e("lemon-badge",{attrs:{count:o}},[c(a)])]);!0===a.isBottom?i.push(l):n.push(l)}),{top:n,bottom:i}},_renderSidebarMessage:function(){var t=this;return this._renderSidebar([Ot(this.$scopedSlots["sidebar-message-top"],null,this),this.lastMessages.map(function(e){return t._renderContact({contact:e,timeFormat:t.contactTimeFormat},function(){return t.changeContact(e.id)},t.$scopedSlots["sidebar-message"])})],Ye,Ot(this.$scopedSlots["sidebar-message-fixedtop"],null,this))},_renderContact:function(t,e,n){var i=this,a=this.$createElement,s=t.contact,r=s.click,c=s.renderContainer,d=s.id,l=function(){Et(r,function(){e(),i._customContainerReady(c,i.CacheContactContainer,d)})};return a("lemon-contact",o()([{class:{"lemon-contact--active":this.currentContactId==t.contact.id},directives:[{name:"lemon-contextmenu",value:this.contactContextmenu,modifiers:{contact:!0}}]},{props:t},{on:{click:l},scopedSlots:{default:n}}]))},_renderSidebarContact:function(){var t,e=this,n=this.$createElement;return this._renderSidebar([Ot(this.$scopedSlots["sidebar-contact-top"],null,this),this.contacts.map(function(i){if(i.index){i.index=i.index.replace(/\[[0-9]*\]/,"");var a=[i.index!==t&&n("p",{class:"lemon-sidebar__label"},[i.index]),e._renderContact({contact:i,simple:!0},function(){e.changeContact(i.id)},e.$scopedSlots["sidebar-contact"])];return t=i.index,a}})],We,Ot(this.$scopedSlots["sidebar-contact-fixedtop"],null,this))},_renderSidebar:function(t,e,n){var i=this.$createElement;return i("div",{class:"lemon-sidebar",directives:[{name:"show",value:this.activeSidebar==e}],on:{scroll:this._handleSidebarScroll}},[i("div",{class:"lemon-sidebar__fixed-top"},[n]),i("div",{class:"lemon-sidebar__scroll"},[t])])},_renderDrawer:function(){var t=this.$createElement;return this._menuIsMessages()&&this.currentContactId?t("div",{class:"lemon-drawer",ref:"drawer"},[dn(this.currentContact),Ot(this.$scopedSlots.drawer,"",this.currentContact)]):""},_isContactContainerCache:function(t){return t.startsWith("contact#")},_renderContainer:function(){var t=this,e=this.$createElement,n=[],i="lemon-container",a=this.currentContact,s=!0;for(var r in this.CacheContactContainer.get()){var o=a.id==r&&this.currentIsDefSidebar;s=!o,n.push(e("div",{class:i,directives:[{name:"show",value:o}]},[this.CacheContactContainer.get(r)]))}for(var c in this.CacheMenuContainer.get())n.push(e("div",{class:i,directives:[{name:"show",value:this.activeSidebar==c&&!this.currentIsDefSidebar}]},[this.CacheMenuContainer.get(c)]));return n.push(e("div",{class:i,directives:[{name:"show",value:this._menuIsMessages()&&s&&a.id}]},[e("div",{class:"lemon-container__title"},[Ot(this.$scopedSlots["message-title"],e("div",{class:"lemon-container__displayname"},[a.displayName]),a)]),e("div",{class:"lemon-vessel"},[e("div",{class:"lemon-vessel__left"},[e("lemon-messages",{ref:"messages",attrs:{"loading-text":this.loadingText,"loadend-text":this.loadendText,"hide-time":this.hideMessageTime,"hide-name":this.hideMessageName,"time-format":this.messageTimeFormat,"reverse-user-id":this.user.id,messages:this.currentMessages},on:{"reach-top":this._emitPullMessages}}),e("lemon-editor",{ref:"editor",attrs:{tools:this.editorTools,sendText:this.sendText,sendKey:this.sendKey},on:{send:this._handleSend,upload:this._handleUpload}})]),e("div",{class:"lemon-vessel__right"},[Ot(this.$scopedSlots["message-side"],null,a)])])])),n.push(e("div",{class:i,directives:[{name:"show",value:!a.id&&this.currentIsDefSidebar}]},[this.$slots.cover])),n.push(e("div",{class:i,directives:[{name:"show",value:this._menuIsContacts()&&s&&a.id}]},[Ot(this.$scopedSlots["contact-info"],e("div",{class:"lemon-contact-info"},[e("lemon-avatar",{attrs:{src:a.avatar,size:90}}),e("h4",[a.displayName]),e("lemon-button",{on:{click:function(){K(a.lastContent)&&t.updateContact({id:a.id,lastContent:" "}),t.changeContact(a.id,Ye)}}},["å‘é€æ¶ˆæ¯"])]),a)])),n},_handleSidebarScroll:function(){ht.hide()},_addContact:function(t,e){var n={0:"unshift",1:"push"}[e];this.contacts[n](t)},_addMessage:function(t,e,n){var i,a={0:"unshift",1:"push"}[n];Array.isArray(t)||(t=[t]),sn[e]=sn[e]||[],(i=sn[e])[a].apply(i,Object(He["a"])(t))},setLastContentRender:function(t,e){Je[t]=e},lastContentRender:function(t){return H(Je[t.type])?Je[t.type].call(this,t):(console.error("not found '".concat(t.type,"' of the latest message renderer,try to use â€˜setLastContentRender()â€™")),"")},emojiNameToImage:function(t){return t.replace(/\[!(\w+)\]/gi,function(t,e){var n=e;return rn[n]?'<img emoji-name="'.concat(e,'" src="').concat(rn[n],'" />'):"[!".concat(e,"]")})},emojiImageToName:function(t){return t.replace(/<img emoji-name=\"([^\"]*?)\" [^>]*>/gi,"[!$1]")},updateCurrentMessages:function(){sn[this.currentContactId]||(sn[this.currentContactId]=[]),this.currentMessages=sn[this.currentContactId]},messageViewToBottom:function(){this.$refs.messages.scrollToBottom()},setDraft:function(t,e){if(K(t)||K(e))return!1;var n=this.findContact(t),i=n.lastContent;if(K(n))return!1;this.CacheDraft.has(t)&&(i=this.CacheDraft.get(t).lastContent),this.CacheDraft.set(t,{editorValue:e,lastContent:i}),this.updateContact({id:t,lastContent:'<span style="color:red;">[è‰ç¨¿]</span><span>'.concat(this.lastContentRender({type:"text",content:e}),"</span>")})},clearDraft:function(t){var e=this.CacheDraft.get(t);if(e){var n=this.findContact(t).lastContent;0===n.indexOf('<span style="color:red;">[è‰ç¨¿]</span>')&&this.updateContact({id:t,lastContent:e.lastContent}),this.CacheDraft.remove(t)}},changeContact:function(){var t=Object(J["a"])(regeneratorRuntime.mark(function t(e,n){var i,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}this.changeMenu(n),t.next=6;break;case 4:if(!this._changeContactLock&&this.currentContactId!=e){t.next=6;break}return t.abrupt("return",!1);case 6:if(this.currentContactId&&(i=Pt(this.getEditorValue()).trim(),i?(this.setDraft(this.currentContactId,i),this.setEditorValue()):this.clearDraft(this.currentContactId)),this.currentContactId=e,this.currentContactId){t.next=10;break}return t.abrupt("return",!1);case 10:if(this.$emit("change-contact",this.currentContact,this),!H(this.currentContact.renderContainer)&&this.activeSidebar!=We){t.next=13;break}return t.abrupt("return");case 13:a=this.CacheDraft.get(e),a&&this.setEditorValue(a.editorValue),this.CacheMessageLoaded.has(e)?this.$refs.messages.loaded():this.$refs.messages.resetLoadState(),sn[e]?setTimeout(function(){s.updateCurrentMessages(),s.messageViewToBottom()},0):(this.updateCurrentMessages(),this._emitPullMessages(function(t){s.messageViewToBottom()}));case 17:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),removeMessage:function(t){var e=this.findMessage(t);if(!e)return!1;var n=sn[e.toContactId].findIndex(function(e){var n=e.id;return n==t});return sn[e.toContactId].splice(n,1),!0},updateMessage:function(t){if(!t.id)return!1;var e=this.findMessage(t.id);return!!e&&(e=Object.assign(e,t,{toContactId:e.toContactId}),!0)},forceUpdateMessage:function(t){if(t){var e=this.$refs.messages.$refs.message;if(e){var n=e.find(function(e){return e.$attrs.message.id==t});n&&n.$forceUpdate()}}else this.$refs.messages.$forceUpdate()},_customContainerReady:function(t,e,n){H(t)&&!e.has(n)&&e.set(n,t.call(this))},changeMenu:function(t){this.$emit("change-menu",t),this.activeSidebar=t},initEmoji:function(t){var e=[];this.$refs.editor.initEmoji(t),t[0].label?t.forEach(function(t){var n;(n=e).push.apply(n,Object(He["a"])(t.children))}):e=t,e.forEach(function(t){var e=t.name,n=t.src;return rn[e]=n})},initEditorTools:function(t){this.editorTools=t},initMenus:function(t){var e=this,n=this.$createElement,i=[{name:Ye,title:"èŠå¤©",unread:0,click:null,render:function(t){return n("i",{class:"lemon-icon-message"})},isBottom:!1},{name:We,title:"é€šè®¯å½•",unread:0,click:null,render:function(t){return n("i",{class:"lemon-icon-addressbook"})},isBottom:!1}],a=[];if(Array.isArray(t)){var s={messages:0,contacts:1},r=Object.keys(s);a=t.map(function(t){return r.includes(t.name)?en({},i[s[t.name]],{},t,{},{renderContainer:null}):(t.renderContainer&&e._customContainerReady(t.renderContainer,e.CacheMenuContainer,t.name),t)})}else a=i;this.menus=a},initContacts:function(t){this.contacts=t,this.sortContacts()},sortContacts:function(){this.contacts.sort(function(t,e){if(t.index)return t.index.localeCompare(e.index)})},appendContact:function(t){return K(t.id)||K(t.displayName)?(console.error("id | displayName cant be empty"),!1):!!this.hasContact(t.id)||(this.contacts.push(Object.assign({id:"",displayName:"",avatar:"",index:"",unread:0,lastSendTime:"",lastContent:""},t)),!0)},removeContact:function(t){var e=this.findContactIndexById(t);return-1!==e&&(this.contacts.splice(e,1),this.CacheDraft.remove(t),this.CacheMessageLoaded.remove(t),!0)},updateContact:function(t){var e=t.id;delete t.id;var n=this.findContactIndexById(e);if(-1!==n){var i=t.unread;A(i)&&(0!==i.indexOf("+")&&0!==i.indexOf("-")||(t.unread=parseInt(i)+parseInt(this.contacts[n].unread))),this.$set(this.contacts,n,en({},this.contacts[n],{},t))}},findContactIndexById:function(t){return this.contacts.findIndex(function(e){return e.id==t})},hasContact:function(t){return-1!==this.findContactIndexById(t)},findMessage:function(t){for(var e in sn){var n=sn[e].find(function(e){var n=e.id;return n==t});if(n)return n}},findContact:function(t){return this.getContacts().find(function(e){var n=e.id;return n==t})},getContacts:function(){return this.contacts},getCurrentContact:function(){return this.currentContact},getCurrentMessages:function(){return this.currentMessages},setEditorValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!A(t))return!1;this.$refs.editor.setValue(this.emojiNameToImage(t))},getEditorValue:function(){return this.$refs.editor.getFormatValue()},clearMessages:function(t){return t?(delete sn[t],this.CacheMessageLoaded.remove(t),this.CacheDraft.remove(t)):(sn={},this.CacheMessageLoaded.remove(),this.CacheDraft.remove()),!0},getMessages:function(t){return(t?sn[t]:sn)||[]},changeDrawer:function(t){this.drawerVisible=!this.drawerVisible,1==this.drawerVisible&&this.openDrawer(t)},openDrawer:function(t){dn=H(t)?t:t.render||new Function;var e=this.$refs.wrapper.clientWidth,n=this.$refs.wrapper.clientHeight,i=t.width||200,a=t.height||n,s=t.offsetX||0,r=t.offsetY||0,o=t.position||"right";A(i)&&(i=e*cn(i)),A(a)&&(a=n*cn(a)),A(s)&&(s=e*cn(s)),A(r)&&(r=n*cn(r)),this.$refs.drawer.style.width="".concat(i,"px"),this.$refs.drawer.style.height="".concat(a,"px");var c=0,d=0,l="";"right"==o?c=e:"rightInside"==o?(c=e-i,l="-15px 0 16px -14px rgba(0,0,0,0.08)"):"center"==o&&(c=e/2-i/2,d=n/2-a/2,l="0 0 20px rgba(0,0,0,0.08)"),c+=s,d+=r+-1,this.$refs.drawer.style.top="".concat(d,"px"),this.$refs.drawer.style.left="".concat(c,"px"),this.$refs.drawer.style.boxShadow=l,this.drawerVisible=!0},closeDrawer:function(){this.drawerVisible=!1}}},un=ln,mn=(n("9b01"),Object(g["a"])(un,nn,an,!1,null,null,null)),hn=mn.exports,pn=(n("6a2b"),"1.4.2"),vn=[hn,zt,ue,oe,Tt,jt,wt,nt,gt,ve,ye,$e,Ve,Ke],fn=function(t){t.directive("LemonContextmenu",ht),vn.forEach(function(e){t.component(e.name,e)})};"undefined"!==typeof window&&window.Vue&&fn(window.Vue);var gn={version:pn,install:fn};i["a"].use(gn),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(V)}}).$mount("#app")},ce40:function(t,e,n){"use strict";var i=n("08dd"),a=n.n(i);a.a},cfab:function(t,e,n){"use strict";var i=n("15cf"),a=n.n(i);a.a},dbdc:function(t,e,n){"use strict";var i=n("7802"),a=n.n(i);a.a},e86c:function(t,e,n){},ed4b:function(t,e,n){"use strict";var i=n("a215"),a=n.n(i);a.a},fbd1:function(t,e,n){"use strict";var i=n("820e"),a=n.n(i);a.a}});